const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Q9EF7qUK.js","./DsnmJJEf.js","./HgQVWXPy.js","./lTDvGL6K.js","./CpJVbNz-.js","./DAH22-2q.js","./CEq77hh8.js","./C1hT5mNq.js","./Ck_VzoUI.js","./YqoNChnQ.js","../assets/leaflet.CIGW-MKW.css"])))=>i.map(i=>d[i]);
import"./DsnmJJEf.js";import{k as gn,Q as bn,ar as yn,C as mn,F as Jt,y as ee,a8 as te,ab as ar,G as re,g as P,a as x,I as Wt,f as D,J as j,K as M,ac as ae,L as I,H as V,w as qn}from"./lTDvGL6K.js";import{c as Rn,x as ne,g as Cn,o as On,j as Tn,a as Q,v as In}from"./HgQVWXPy.js";import{i as N}from"./CpJVbNz-.js";import{S as Sn,u as nr,v as w,w as Vt,r as B,b as Ya,x as ir,y as sr,z as An,j as jn,A as wn,B as or,n as $a,C as Pn,D as xn,X as Mn,e as Dn}from"./oRzLS26u.js";import{_ as Ln}from"./D9Z9MdNV.js";import{c as ie}from"./C7ZUV7tf.js";import{s as se}from"./YqoNChnQ.js";import{a as Fn,s as kn}from"./DAH22-2q.js";import{o as z,g as En}from"./Ck_VzoUI.js";function Un(t,e){gn&&bn(yn(t)),mn(()=>{var r=e();for(var a in r){var n=r[a];n?t.style.setProperty(a,n):t.style.removeProperty(a)}})}var Gn=class extends Sn{constructor(t,e){super(),this.options=e,this.#r=t,this.#n=null,this.#a=nr(),this.bindMethods(),this.setOptions(e)}#r;#e=void 0;#v=void 0;#t=void 0;#s;#f;#a;#n;#p;#h;#l;#o;#u;#i;#d=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),ur(this.#e,this.options)?this.#c():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qt(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qt(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#m(),this.#q(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,r=this.#e;if(this.options=this.#r.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof w(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#R(),this.#e.setOptions(this.options),e._defaulted&&!Vt(this.options,e)&&this.#r.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const a=this.hasListeners();a&&cr(this.#e,r,this.options,e)&&this.#c(),this.updateResult(),a&&(this.#e!==r||w(this.options.enabled,this.#e)!==w(e.enabled,this.#e)||B(this.options.staleTime,this.#e)!==B(e.staleTime,this.#e))&&this.#_();const n=this.#g();a&&(this.#e!==r||w(this.options.enabled,this.#e)!==w(e.enabled,this.#e)||n!==this.#i)&&this.#b(n)}getOptimisticResult(t){const e=this.#r.getQueryCache().build(this.#r,t),r=this.createResult(e,t);return Bn(this,r)&&(this.#t=r,this.#f=this.options,this.#s=this.#e.state),r}getCurrentResult(){return this.#t}trackResult(t,e){return new Proxy(t,{get:(r,a)=>(this.trackProp(a),e?.(a),a==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,a))})}trackProp(t){this.#d.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#r.defaultQueryOptions(t),r=this.#r.getQueryCache().build(this.#r,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#c({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#c(t){this.#R();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Ya)),e}#_(){this.#m();const t=B(this.options.staleTime,this.#e);if(ir||this.#t.isStale||!sr(t))return;const r=An(this.#t.dataUpdatedAt,t)+1;this.#o=setTimeout(()=>{this.#t.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#q(),this.#i=t,!(ir||w(this.options.enabled,this.#e)===!1||!sr(this.#i)||this.#i===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||jn.isFocused())&&this.#c()},this.#i))}#y(){this.#_(),this.#b(this.#g())}#m(){this.#o&&(clearTimeout(this.#o),this.#o=void 0)}#q(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const r=this.#e,a=this.options,n=this.#t,i=this.#s,s=this.#f,u=t!==r?t.state:this.#v,{state:c}=t;let f={...c},l=!1,h;if(e._optimisticResults){const p=this.hasListeners(),A=!p&&ur(t,e),y=p&&cr(t,r,e,a);(A||y)&&(f={...f,...wn(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:_,status:m}=f;h=f.data;let q=!1;if(e.placeholderData!==void 0&&h===void 0&&m==="pending"){let p;n?.isPlaceholderData&&e.placeholderData===s?.placeholderData?(p=n.data,q=!0):p=typeof e.placeholderData=="function"?e.placeholderData(this.#l?.state.data,this.#l):e.placeholderData,p!==void 0&&(m="success",h=or(n?.data,p,e),l=!0)}if(e.select&&h!==void 0&&!q)if(n&&h===i?.data&&e.select===this.#p)h=this.#h;else try{this.#p=e.select,h=e.select(h),h=or(n?.data,h,e),this.#h=h,this.#n=null}catch(p){this.#n=p}this.#n&&(v=this.#n,h=this.#h,_=Date.now(),m="error");const O=f.fetchStatus==="fetching",g=m==="pending",T=m==="error",S=g&&O,C=h!==void 0,b={status:m,fetchStatus:f.fetchStatus,isPending:g,isSuccess:m==="success",isError:T,isInitialLoading:S,isLoading:S,data:h,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:_,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:O,isRefetching:O&&!g,isLoadingError:T&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:l,isRefetchError:T&&C,isStale:Xt(t,e),refetch:this.refetch,promise:this.#a,isEnabled:w(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const p=d=>{b.status==="error"?d.reject(b.error):b.data!==void 0&&d.resolve(b.data)},A=()=>{const d=this.#a=b.promise=nr();p(d)},y=this.#a;switch(y.status){case"pending":t.queryHash===r.queryHash&&p(y);break;case"fulfilled":(b.status==="error"||b.data!==y.value)&&A();break;case"rejected":(b.status!=="error"||b.error!==y.reason)&&A();break}}return b}updateResult(){const t=this.#t,e=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#f=this.options,this.#s.data!==void 0&&(this.#l=this.#e),Vt(e,t))return;this.#t=e;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,n=typeof a=="function"?a():a;if(n==="all"||!n&&!this.#d.size)return!0;const i=new Set(n??this.#d);return this.options.throwOnError&&i.add("error"),Object.keys(this.#t).some(s=>{const o=s;return this.#t[o]!==t[o]&&i.has(o)})};this.#C({listeners:r()})}#R(){const t=this.#r.getQueryCache().build(this.#r,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#v=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#C(t){$a.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#t)}),this.#r.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Hn(t,e){return w(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ur(t,e){return Hn(t,e)||t.state.data!==void 0&&Qt(t,e,e.refetchOnMount)}function Qt(t,e,r){if(w(e.enabled,t)!==!1&&B(e.staleTime,t)!=="static"){const a=typeof r=="function"?r(t):r;return a==="always"||a!==!1&&Xt(t,e)}return!1}function cr(t,e,r,a){return(t!==e||w(a.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Xt(t,r)}function Xt(t,e){return w(e.enabled,t)!==!1&&t.isStaleByTime(B(e.staleTime,t))}function Bn(t,e){return!Vt(t.getCurrentResult(),e)}function Nn(){return Pn()}function Kn(t){return xn()}function zn(t){return"subscribe"in t&&typeof t.subscribe=="function"}function Vn(t,e,r){const a=Kn(),n=Nn(),i=zn(t)?t:Rn(t),s=ne([i,n],([f,l])=>{const h=a.defaultQueryOptions(f);return h._optimisticResults=l?"isRestoring":"optimistic",h}),o=new e(a,Cn(s));s.subscribe(f=>{o.setOptions(f)});const u=ne(n,(f,l)=>{const h=f?Ya:o.subscribe($a.batchCalls(l));return o.updateResult(),h}),{subscribe:c}=ne([u,s],([f,l])=>(f=o.getOptimisticResult(l),l.notifyOnChangeProps?f:o.trackResult(f)));return{subscribe:c}}function Qn(t,e){return Vn(t,Gn)}var Jn=D("<!> <!>",1),Wn=D('<div class="map-container svelte-1xb7fyr"><!></div>');function Xn(t,e){Jt(e,!0);const r=ae(()=>e.geometry.type==="Point"?[e.geometry.coordinates[1],e.geometry.coordinates[0]]:[51,0]);let a=te(null),n=te(null),i=te(null);On(async()=>{const c=await Ln(()=>import("./Q9EF7qUK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url);ee(a,c.Map,!0),ee(n,c.Marker,!0),ee(i,c.TileLayer,!0)});var s=ar(),o=re(s);{var u=c=>{var f=Wn(),l=j(f);{let h=ae(()=>({center:P(r),zoom:13,zoomControl:!1,scrollWheelZoom:"center"}));ie(l,()=>P(a),(v,_)=>{_(v,{get options(){return P(h)},children:(m,q)=>{var O=Jn(),g=re(O);ie(g,()=>P(i),(C,R)=>{R(C,{url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png",options:{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OSM</a>'}})});var T=M(g,2);{var S=C=>{var R=ar(),b=re(R);{let p=ae(()=>[e.geometry.coordinates[1],e.geometry.coordinates[0]]);ie(b,()=>P(n),(A,y)=>{y(A,{get latLng(){return P(p)}})})}x(C,R)};N(T,C=>{e.geometry.type==="Point"&&P(n)&&C(S)})}x(m,O)},$$slots:{default:!0}})})}I(f),x(c,f)};N(o,c=>{P(a)&&P(i)&&c(u)})}x(t,s),Wt()}class Zt extends Error{status;response;constructor(e,r){super(e),this.name="HttpError",this.status=r.status,this.response=r,Object.setPrototypeOf(this,Zt.prototype)}}var oe,fr;function Zn(){if(fr)return oe;fr=1;function t(){this.__data__=[],this.size=0}return oe=t,oe}var ue,hr;function J(){if(hr)return ue;hr=1;function t(e,r){return e===r||e!==e&&r!==r}return ue=t,ue}var ce,lr;function W(){if(lr)return ce;lr=1;var t=J();function e(r,a){for(var n=r.length;n--;)if(t(r[n][0],a))return n;return-1}return ce=e,ce}var fe,dr;function Yn(){if(dr)return fe;dr=1;var t=W(),e=Array.prototype,r=e.splice;function a(n){var i=this.__data__,s=t(i,n);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():r.call(i,s,1),--this.size,!0}return fe=a,fe}var he,vr;function $n(){if(vr)return he;vr=1;var t=W();function e(r){var a=this.__data__,n=t(a,r);return n<0?void 0:a[n][1]}return he=e,he}var le,pr;function ei(){if(pr)return le;pr=1;var t=W();function e(r){return t(this.__data__,r)>-1}return le=e,le}var de,_r;function ti(){if(_r)return de;_r=1;var t=W();function e(r,a){var n=this.__data__,i=t(n,r);return i<0?(++this.size,n.push([r,a])):n[i][1]=a,this}return de=e,de}var ve,gr;function X(){if(gr)return ve;gr=1;var t=Zn(),e=Yn(),r=$n(),a=ei(),n=ti();function i(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=a,i.prototype.set=n,ve=i,ve}var pe,br;function ri(){if(br)return pe;br=1;var t=X();function e(){this.__data__=new t,this.size=0}return pe=e,pe}var _e,yr;function ai(){if(yr)return _e;yr=1;function t(e){var r=this.__data__,a=r.delete(e);return this.size=r.size,a}return _e=t,_e}var ge,mr;function ni(){if(mr)return ge;mr=1;function t(e){return this.__data__.get(e)}return ge=t,ge}var be,qr;function ii(){if(qr)return be;qr=1;function t(e){return this.__data__.has(e)}return be=t,be}var ye,Rr;function en(){if(Rr)return ye;Rr=1;var t=typeof z=="object"&&z&&z.Object===Object&&z;return ye=t,ye}var me,Cr;function k(){if(Cr)return me;Cr=1;var t=en(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return me=r,me}var qe,Or;function tn(){if(Or)return qe;Or=1;var t=k(),e=t.Symbol;return qe=e,qe}var Re,Tr;function si(){if(Tr)return Re;Tr=1;var t=tn(),e=Object.prototype,r=e.hasOwnProperty,a=e.toString,n=t?t.toStringTag:void 0;function i(s){var o=r.call(s,n),u=s[n];try{s[n]=void 0;var c=!0}catch{}var f=a.call(s);return c&&(o?s[n]=u:delete s[n]),f}return Re=i,Re}var Ce,Ir;function oi(){if(Ir)return Ce;Ir=1;var t=Object.prototype,e=t.toString;function r(a){return e.call(a)}return Ce=r,Ce}var Oe,Sr;function Z(){if(Sr)return Oe;Sr=1;var t=tn(),e=si(),r=oi(),a="[object Null]",n="[object Undefined]",i=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?n:a:i&&i in Object(o)?e(o):r(o)}return Oe=s,Oe}var Te,Ar;function F(){if(Ar)return Te;Ar=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Te=t,Te}var Ie,jr;function Yt(){if(jr)return Ie;jr=1;var t=Z(),e=F(),r="[object AsyncFunction]",a="[object Function]",n="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!e(o))return!1;var u=t(o);return u==a||u==n||u==r||u==i}return Ie=s,Ie}var Se,wr;function ui(){if(wr)return Se;wr=1;var t=k(),e=t["__core-js_shared__"];return Se=e,Se}var Ae,Pr;function ci(){if(Pr)return Ae;Pr=1;var t=ui(),e=function(){var a=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function r(a){return!!e&&e in a}return Ae=r,Ae}var je,xr;function fi(){if(xr)return je;xr=1;var t=Function.prototype,e=t.toString;function r(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return je=r,je}var we,Mr;function hi(){if(Mr)return we;Mr=1;var t=Yt(),e=ci(),r=F(),a=fi(),n=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,u=s.toString,c=o.hasOwnProperty,f=RegExp("^"+u.call(c).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l(h){if(!r(h)||e(h))return!1;var v=t(h)?f:i;return v.test(a(h))}return we=l,we}var Pe,Dr;function li(){if(Dr)return Pe;Dr=1;function t(e,r){return e?.[r]}return Pe=t,Pe}var xe,Lr;function $t(){if(Lr)return xe;Lr=1;var t=hi(),e=li();function r(a,n){var i=e(a,n);return t(i)?i:void 0}return xe=r,xe}var Me,Fr;function rn(){if(Fr)return Me;Fr=1;var t=$t(),e=k(),r=t(e,"Map");return Me=r,Me}var De,kr;function Y(){if(kr)return De;kr=1;var t=$t(),e=t(Object,"create");return De=e,De}var Le,Er;function di(){if(Er)return Le;Er=1;var t=Y();function e(){this.__data__=t?t(null):{},this.size=0}return Le=e,Le}var Fe,Ur;function vi(){if(Ur)return Fe;Ur=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Fe=t,Fe}var ke,Gr;function pi(){if(Gr)return ke;Gr=1;var t=Y(),e="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function n(i){var s=this.__data__;if(t){var o=s[i];return o===e?void 0:o}return a.call(s,i)?s[i]:void 0}return ke=n,ke}var Ee,Hr;function _i(){if(Hr)return Ee;Hr=1;var t=Y(),e=Object.prototype,r=e.hasOwnProperty;function a(n){var i=this.__data__;return t?i[n]!==void 0:r.call(i,n)}return Ee=a,Ee}var Ue,Br;function gi(){if(Br)return Ue;Br=1;var t=Y(),e="__lodash_hash_undefined__";function r(a,n){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=t&&n===void 0?e:n,this}return Ue=r,Ue}var Ge,Nr;function bi(){if(Nr)return Ge;Nr=1;var t=di(),e=vi(),r=pi(),a=_i(),n=gi();function i(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=a,i.prototype.set=n,Ge=i,Ge}var He,Kr;function yi(){if(Kr)return He;Kr=1;var t=bi(),e=X(),r=rn();function a(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return He=a,He}var Be,zr;function mi(){if(zr)return Be;zr=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Be=t,Be}var Ne,Vr;function $(){if(Vr)return Ne;Vr=1;var t=mi();function e(r,a){var n=r.__data__;return t(a)?n[typeof a=="string"?"string":"hash"]:n.map}return Ne=e,Ne}var Ke,Qr;function qi(){if(Qr)return Ke;Qr=1;var t=$();function e(r){var a=t(this,r).delete(r);return this.size-=a?1:0,a}return Ke=e,Ke}var ze,Jr;function Ri(){if(Jr)return ze;Jr=1;var t=$();function e(r){return t(this,r).get(r)}return ze=e,ze}var Ve,Wr;function Ci(){if(Wr)return Ve;Wr=1;var t=$();function e(r){return t(this,r).has(r)}return Ve=e,Ve}var Qe,Xr;function Oi(){if(Xr)return Qe;Xr=1;var t=$();function e(r,a){var n=t(this,r),i=n.size;return n.set(r,a),this.size+=n.size==i?0:1,this}return Qe=e,Qe}var Je,Zr;function Ti(){if(Zr)return Je;Zr=1;var t=yi(),e=qi(),r=Ri(),a=Ci(),n=Oi();function i(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=a,i.prototype.set=n,Je=i,Je}var We,Yr;function Ii(){if(Yr)return We;Yr=1;var t=X(),e=rn(),r=Ti(),a=200;function n(i,s){var o=this.__data__;if(o instanceof t){var u=o.__data__;if(!e||u.length<a-1)return u.push([i,s]),this.size=++o.size,this;o=this.__data__=new r(u)}return o.set(i,s),this.size=o.size,this}return We=n,We}var Xe,$r;function Si(){if($r)return Xe;$r=1;var t=X(),e=ri(),r=ai(),a=ni(),n=ii(),i=Ii();function s(o){var u=this.__data__=new t(o);this.size=u.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=a,s.prototype.has=n,s.prototype.set=i,Xe=s,Xe}var Ze,ea;function an(){if(ea)return Ze;ea=1;var t=$t(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Ze=e,Ze}var Ye,ta;function er(){if(ta)return Ye;ta=1;var t=an();function e(r,a,n){a=="__proto__"&&t?t(r,a,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[a]=n}return Ye=e,Ye}var $e,ra;function nn(){if(ra)return $e;ra=1;var t=er(),e=J();function r(a,n,i){(i!==void 0&&!e(a[n],i)||i===void 0&&!(n in a))&&t(a,n,i)}return $e=r,$e}var et,aa;function Ai(){if(aa)return et;aa=1;function t(e){return function(r,a,n){for(var i=-1,s=Object(r),o=n(r),u=o.length;u--;){var c=o[e?u:++i];if(a(s[c],c,s)===!1)break}return r}}return et=t,et}var tt,na;function ji(){if(na)return tt;na=1;var t=Ai(),e=t();return tt=e,tt}var U={exports:{}};U.exports;var ia;function wi(){return ia||(ia=1,function(t,e){var r=k(),a=e&&!e.nodeType&&e,n=a&&!0&&t&&!t.nodeType&&t,i=n&&n.exports===a,s=i?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function u(c,f){if(f)return c.slice();var l=c.length,h=o?o(l):new c.constructor(l);return c.copy(h),h}t.exports=u}(U,U.exports)),U.exports}var rt,sa;function Pi(){if(sa)return rt;sa=1;var t=k(),e=t.Uint8Array;return rt=e,rt}var at,oa;function xi(){if(oa)return at;oa=1;var t=Pi();function e(r){var a=new r.constructor(r.byteLength);return new t(a).set(new t(r)),a}return at=e,at}var nt,ua;function Mi(){if(ua)return nt;ua=1;var t=xi();function e(r,a){var n=a?t(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.length)}return nt=e,nt}var it,ca;function Di(){if(ca)return it;ca=1;function t(e,r){var a=-1,n=e.length;for(r||(r=Array(n));++a<n;)r[a]=e[a];return r}return it=t,it}var st,fa;function Li(){if(fa)return st;fa=1;var t=F(),e=Object.create,r=function(){function a(){}return function(n){if(!t(n))return{};if(e)return e(n);a.prototype=n;var i=new a;return a.prototype=void 0,i}}();return st=r,st}var ot,ha;function Fi(){if(ha)return ot;ha=1;function t(e,r){return function(a){return e(r(a))}}return ot=t,ot}var ut,la;function sn(){if(la)return ut;la=1;var t=Fi(),e=t(Object.getPrototypeOf,Object);return ut=e,ut}var ct,da;function on(){if(da)return ct;da=1;var t=Object.prototype;function e(r){var a=r&&r.constructor,n=typeof a=="function"&&a.prototype||t;return r===n}return ct=e,ct}var ft,va;function ki(){if(va)return ft;va=1;var t=Li(),e=sn(),r=on();function a(n){return typeof n.constructor=="function"&&!r(n)?t(e(n)):{}}return ft=a,ft}var ht,pa;function K(){if(pa)return ht;pa=1;function t(e){return e!=null&&typeof e=="object"}return ht=t,ht}var lt,_a;function Ei(){if(_a)return lt;_a=1;var t=Z(),e=K(),r="[object Arguments]";function a(n){return e(n)&&t(n)==r}return lt=a,lt}var dt,ga;function un(){if(ga)return dt;ga=1;var t=Ei(),e=K(),r=Object.prototype,a=r.hasOwnProperty,n=r.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(s){return e(s)&&a.call(s,"callee")&&!n.call(s,"callee")};return dt=i,dt}var vt,ba;function cn(){if(ba)return vt;ba=1;var t=Array.isArray;return vt=t,vt}var pt,ya;function fn(){if(ya)return pt;ya=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return pt=e,pt}var _t,ma;function tr(){if(ma)return _t;ma=1;var t=Yt(),e=fn();function r(a){return a!=null&&e(a.length)&&!t(a)}return _t=r,_t}var gt,qa;function Ui(){if(qa)return gt;qa=1;var t=tr(),e=K();function r(a){return e(a)&&t(a)}return gt=r,gt}var G={exports:{}},bt,Ra;function Gi(){if(Ra)return bt;Ra=1;function t(){return!1}return bt=t,bt}G.exports;var Ca;function hn(){return Ca||(Ca=1,function(t,e){var r=k(),a=Gi(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s?r.Buffer:void 0,u=o?o.isBuffer:void 0,c=u||a;t.exports=c}(G,G.exports)),G.exports}var yt,Oa;function Hi(){if(Oa)return yt;Oa=1;var t=Z(),e=sn(),r=K(),a="[object Object]",n=Function.prototype,i=Object.prototype,s=n.toString,o=i.hasOwnProperty,u=s.call(Object);function c(f){if(!r(f)||t(f)!=a)return!1;var l=e(f);if(l===null)return!0;var h=o.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==u}return yt=c,yt}var mt,Ta;function Bi(){if(Ta)return mt;Ta=1;var t=Z(),e=fn(),r=K(),a="[object Arguments]",n="[object Array]",i="[object Boolean]",s="[object Date]",o="[object Error]",u="[object Function]",c="[object Map]",f="[object Number]",l="[object Object]",h="[object RegExp]",v="[object Set]",_="[object String]",m="[object WeakMap]",q="[object ArrayBuffer]",O="[object DataView]",g="[object Float32Array]",T="[object Float64Array]",S="[object Int8Array]",C="[object Int16Array]",R="[object Int32Array]",b="[object Uint8Array]",p="[object Uint8ClampedArray]",A="[object Uint16Array]",y="[object Uint32Array]",d={};d[g]=d[T]=d[S]=d[C]=d[R]=d[b]=d[p]=d[A]=d[y]=!0,d[a]=d[n]=d[q]=d[i]=d[O]=d[s]=d[o]=d[u]=d[c]=d[f]=d[l]=d[h]=d[v]=d[_]=d[m]=!1;function E(L){return r(L)&&e(L.length)&&!!d[t(L)]}return mt=E,mt}var qt,Ia;function Ni(){if(Ia)return qt;Ia=1;function t(e){return function(r){return e(r)}}return qt=t,qt}var H={exports:{}};H.exports;var Sa;function Ki(){return Sa||(Sa=1,function(t,e){var r=en(),a=e&&!e.nodeType&&e,n=a&&!0&&t&&!t.nodeType&&t,i=n&&n.exports===a,s=i&&r.process,o=function(){try{var u=n&&n.require&&n.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(H,H.exports)),H.exports}var Rt,Aa;function ln(){if(Aa)return Rt;Aa=1;var t=Bi(),e=Ni(),r=Ki(),a=r&&r.isTypedArray,n=a?e(a):t;return Rt=n,Rt}var Ct,ja;function dn(){if(ja)return Ct;ja=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return Ct=t,Ct}var Ot,wa;function zi(){if(wa)return Ot;wa=1;var t=er(),e=J(),r=Object.prototype,a=r.hasOwnProperty;function n(i,s,o){var u=i[s];(!(a.call(i,s)&&e(u,o))||o===void 0&&!(s in i))&&t(i,s,o)}return Ot=n,Ot}var Tt,Pa;function Vi(){if(Pa)return Tt;Pa=1;var t=zi(),e=er();function r(a,n,i,s){var o=!i;i||(i={});for(var u=-1,c=n.length;++u<c;){var f=n[u],l=s?s(i[f],a[f],f,i,a):void 0;l===void 0&&(l=a[f]),o?e(i,f,l):t(i,f,l)}return i}return Tt=r,Tt}var It,xa;function Qi(){if(xa)return It;xa=1;function t(e,r){for(var a=-1,n=Array(e);++a<e;)n[a]=r(a);return n}return It=t,It}var St,Ma;function vn(){if(Ma)return St;Ma=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(a,n){var i=typeof a;return n=n??t,!!n&&(i=="number"||i!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<n}return St=r,St}var At,Da;function Ji(){if(Da)return At;Da=1;var t=Qi(),e=un(),r=cn(),a=hn(),n=vn(),i=ln(),s=Object.prototype,o=s.hasOwnProperty;function u(c,f){var l=r(c),h=!l&&e(c),v=!l&&!h&&a(c),_=!l&&!h&&!v&&i(c),m=l||h||v||_,q=m?t(c.length,String):[],O=q.length;for(var g in c)(f||o.call(c,g))&&!(m&&(g=="length"||v&&(g=="offset"||g=="parent")||_&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||n(g,O)))&&q.push(g);return q}return At=u,At}var jt,La;function Wi(){if(La)return jt;La=1;function t(e){var r=[];if(e!=null)for(var a in Object(e))r.push(a);return r}return jt=t,jt}var wt,Fa;function Xi(){if(Fa)return wt;Fa=1;var t=F(),e=on(),r=Wi(),a=Object.prototype,n=a.hasOwnProperty;function i(s){if(!t(s))return r(s);var o=e(s),u=[];for(var c in s)c=="constructor"&&(o||!n.call(s,c))||u.push(c);return u}return wt=i,wt}var Pt,ka;function pn(){if(ka)return Pt;ka=1;var t=Ji(),e=Xi(),r=tr();function a(n){return r(n)?t(n,!0):e(n)}return Pt=a,Pt}var xt,Ea;function Zi(){if(Ea)return xt;Ea=1;var t=Vi(),e=pn();function r(a){return t(a,e(a))}return xt=r,xt}var Mt,Ua;function Yi(){if(Ua)return Mt;Ua=1;var t=nn(),e=wi(),r=Mi(),a=Di(),n=ki(),i=un(),s=cn(),o=Ui(),u=hn(),c=Yt(),f=F(),l=Hi(),h=ln(),v=dn(),_=Zi();function m(q,O,g,T,S,C,R){var b=v(q,g),p=v(O,g),A=R.get(p);if(A){t(q,g,A);return}var y=C?C(b,p,g+"",q,O,R):void 0,d=y===void 0;if(d){var E=s(p),L=!E&&u(p),rr=!E&&!L&&h(p);y=p,E||L||rr?s(b)?y=b:o(b)?y=a(b):L?(d=!1,y=e(p,!0)):rr?(d=!1,y=r(p,!0)):y=[]:l(p)||i(p)?(y=b,i(b)?y=_(b):(!f(b)||c(b))&&(y=n(p))):d=!1}d&&(R.set(p,y),S(y,p,T,C,R),R.delete(p)),t(q,g,y)}return Mt=m,Mt}var Dt,Ga;function $i(){if(Ga)return Dt;Ga=1;var t=Si(),e=nn(),r=ji(),a=Yi(),n=F(),i=pn(),s=dn();function o(u,c,f,l,h){u!==c&&r(c,function(v,_){if(h||(h=new t),n(v))a(u,c,_,f,o,l,h);else{var m=l?l(s(u,_),v,_+"",u,c,h):void 0;m===void 0&&(m=v),e(u,_,m)}},i)}return Dt=o,Dt}var Lt,Ha;function _n(){if(Ha)return Lt;Ha=1;function t(e){return e}return Lt=t,Lt}var Ft,Ba;function es(){if(Ba)return Ft;Ba=1;function t(e,r,a){switch(a.length){case 0:return e.call(r);case 1:return e.call(r,a[0]);case 2:return e.call(r,a[0],a[1]);case 3:return e.call(r,a[0],a[1],a[2])}return e.apply(r,a)}return Ft=t,Ft}var kt,Na;function ts(){if(Na)return kt;Na=1;var t=es(),e=Math.max;function r(a,n,i){return n=e(n===void 0?a.length-1:n,0),function(){for(var s=arguments,o=-1,u=e(s.length-n,0),c=Array(u);++o<u;)c[o]=s[n+o];o=-1;for(var f=Array(n+1);++o<n;)f[o]=s[o];return f[n]=i(c),t(a,this,f)}}return kt=r,kt}var Et,Ka;function rs(){if(Ka)return Et;Ka=1;function t(e){return function(){return e}}return Et=t,Et}var Ut,za;function as(){if(za)return Ut;za=1;var t=rs(),e=an(),r=_n(),a=e?function(n,i){return e(n,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return Ut=a,Ut}var Gt,Va;function ns(){if(Va)return Gt;Va=1;var t=800,e=16,r=Date.now;function a(n){var i=0,s=0;return function(){var o=r(),u=e-(o-s);if(s=o,u>0){if(++i>=t)return arguments[0]}else i=0;return n.apply(void 0,arguments)}}return Gt=a,Gt}var Ht,Qa;function is(){if(Qa)return Ht;Qa=1;var t=as(),e=ns(),r=e(t);return Ht=r,Ht}var Bt,Ja;function ss(){if(Ja)return Bt;Ja=1;var t=_n(),e=ts(),r=is();function a(n,i){return r(e(n,i,t),n+"")}return Bt=a,Bt}var Nt,Wa;function os(){if(Wa)return Nt;Wa=1;var t=J(),e=tr(),r=vn(),a=F();function n(i,s,o){if(!a(o))return!1;var u=typeof s;return(u=="number"?e(o)&&r(s,o.length):u=="string"&&s in o)?t(o[s],i):!1}return Nt=n,Nt}var Kt,Xa;function us(){if(Xa)return Kt;Xa=1;var t=ss(),e=os();function r(a){return t(function(n,i){var s=-1,o=i.length,u=o>1?i[o-1]:void 0,c=o>2?i[2]:void 0;for(u=a.length>3&&typeof u=="function"?(o--,u):void 0,c&&e(i[0],i[1],c)&&(u=o<3?void 0:u,o=1),n=Object(n);++s<o;){var f=i[s];f&&a(n,f,s,u)}return n})}return Kt=r,Kt}var zt,Za;function cs(){if(Za)return zt;Za=1;var t=$i(),e=us(),r=e(function(a,n,i){t(a,n,i)});return zt=r,zt}var fs=cs();const hs=En(fs),xs=async(t,e)=>t.trim().length===0?[]:(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${encodeURIComponent(t)}&language=${e}&limit=20&continue=0&format=json&uselang=${e}&type=item&origin=*`)).json()).search.map(({concepturi:n,...i})=>hs({aliases:[],photos:[]},{...i,uri:n})),ls=async(t,e)=>{const r=t.match(ds)?.[2]??"";if(!r)throw new Error("Not a wikidata entity");const a=await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${r}&languages=${e}&format=json&origin=*`);if(!a.ok)throw new Zt("Fetching interest failed",a);const n=await a.json();if(!n||!n.entities)throw new Error("Not ");const i=n.entities[r];if(!i)throw new Error("Entity not found");const s=i.labels[e]?.value,o=i.descriptions[e]?.value,u=(i.claims.P18??[]).map(_=>_.mainsnak.datavalue?.value)[0],c=(i.claims.P154??[]).map(_=>_.mainsnak.datavalue?.value)[0],f=u&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(u)}?width=300`,l=c&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(c)}?width=300`,h=(i.claims.P856??[]).map(_=>_.mainsnak.datavalue?.value)[0],v=(i.aliases[e]??[]).map(({value:_})=>_);return{id:r,uri:t,label:s,aliases:v,description:o,officialWebsite:h,image:l||f}},ds=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/;var vs=D('<img class="image svelte-c7qp8r"/>'),ps=(t,e,r,a)=>e.onClickRemove(r().data),_s=D('<button type="button"><!></button>'),gs=D('<div class="tag svelte-c7qp8r" data-testid="topic-tag"><!> <!></div>');function bs(t,e){Jt(e,!0);const[r,a]=kn(),n=()=>Fn(i,"$query",r),i=Qn({queryKey:["topic",e.uri,"en"],queryFn:()=>ls(e.uri,"en"),initialData:{uri:e.uri,aliases:[],id:e.uri.split("/").pop()},initialDataUpdatedAt:0,staleTime:3e5});var s=gs(),o=j(s);{var u=h=>{var v=vs();V(()=>{se(v,"src",n().data.image),se(v,"alt",n().data.label)}),x(h,v)};N(o,h=>{n().data.image&&h(u)})}var c=M(o),f=M(c);{var l=h=>{var v=_s();v.__click=[ps,e,n,i];var _=j(v);Mn(_,{"aria-hidden":"true",size:"1.25rem"}),I(v),V(()=>se(v,"aria-label",`Remove ${n().data.label??""}`)),x(h,v)};N(f,h=>{e.onClickRemove&&h(l)})}I(s),V(()=>Q(c,` ${n().data.label??n().data.id??""} `)),x(t,s),Wt(),a()}Tn(["click"]);var ys=D("<li><!></li>"),ms=D('<ul class="topics svelte-9cxrck"></ul>'),qs=D('<div class="place svelte-9cxrck"><div><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div> <div class="info svelte-9cxrck"><date> </date> <!> <header class="svelte-9cxrck"> </header> <p> </p></div> <div><!></div></div>');function Ms(t,e){Jt(e,!0);const r=e.place.geo,a={type:"Point",coordinates:[r.longitude,r.latitude]};var n=qs(),i=j(n),s=j(i);Un(s,()=>({"--width":"120px","--height":"120px"})),Xn(s.lastChild,{get geometry(){return a}}),I(s),I(i);var o=M(i,2),u=j(o),c=j(u,!0);I(u);var f=M(u,2);{var l=g=>{var T=ms();Dn(T,21,()=>e.place.topic,S=>S["@id"],(S,C)=>{var R=ys(),b=j(R);bs(b,{get uri(){return P(C)["@id"]}}),I(R),x(S,R)}),I(T),x(g,T)};N(f,g=>{e.place.topic&&g(l)})}var h=M(f,2),v=j(h,!0);I(h);var _=M(h,2),m=j(_,!0);I(_),I(o);var q=M(o,2),O=j(q);In(O,()=>e.children??qn),I(q),I(n),V(()=>{Q(c,e.place.created),Q(v,e.place.name),Q(m,e.place.description)}),x(t,n),Wt()}export{Ms as P,bs as T,Qn as c,xs as s};
