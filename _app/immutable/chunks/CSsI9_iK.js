import{d as j,N as k,g as B,aj as H,h as N,I as K,au as D,av as F,a3 as G,aw as J,q as Q,ax as W,x as M,ay as X,az as Z,aA as m,aB as x,aC as ee}from"./oCosmefv.js";import{i as re,c as se,d as te,f as ae,n as ie,h as fe,j as ue}from"./F3QxBvzP.js";import{t as le,c as oe,b as ce}from"./E4DteRQY.js";function ne(e,r){var s=void 0,t;j(()=>{s!==(s=r())&&(t&&(k(t),t=null),s&&(t=B(()=>{H(()=>s(e))})))})}function O(e,r={},s,t){for(var f in s){var u=s[f];r[f]!==u&&(s[f]==null?e.style.removeProperty(f):e.style.setProperty(f,u,t))}}function _e(e,r,s,t){var f=e.__style;if(N||f!==r){var u=le(r,t);(!N||u!==e.getAttribute("style"))&&(u==null?e.removeAttribute("style"):e.style.cssText=u),e.__style=r}else t&&(Array.isArray(t)?(O(e,s?.[0],t[0]),O(e,s?.[1],t[1],"important")):O(e,s,t));return t}function C(e,r,s=!1){if(e.multiple){if(r==null)return;if(!K(r))return D();for(var t of e.options)t.selected=r.includes(P(t));return}for(t of e.options){var f=P(t);if(F(f,r)){t.selected=!0;return}}(!s||r!==void 0)&&(e.selectedIndex=-1)}function ve(e){var r=new MutationObserver(()=>{C(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),G(()=>{r.disconnect()})}function P(e){return"__value"in e?e.__value:e.value}const S=Symbol("class"),w=Symbol("style"),R=Symbol("is custom element"),U=Symbol("is html");function Ae(e){if(N){var r=!1,s=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var t=e.value;E(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var f=e.checked;E(e,"checked",null),e.checked=f}}};e.__on_r=s,x(s),fe()}}function de(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function E(e,r,s,t){var f=V(e);N&&(f[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||f[r]!==(f[r]=s)&&(r==="loading"&&(e[m]=s),s==null?e.removeAttribute(r):typeof s!="string"&&Y(e).includes(r)?e[r]=s:e.setAttribute(r,s))}function be(e,r,s,t,f=!1){var u=V(e),h=u[R],b=!u[U];let v=N&&h;v&&M(!1);var l=r||{},A=e.tagName==="OPTION";for(var g in r)g in s||(s[g]=null);s.class?s.class=oe(s.class):(t||s[S])&&(s.class=null),s[w]&&(s.style??=null);var d=Y(e);for(const a in s){let i=s[a];if(A&&a==="value"&&i==null){e.value=e.__value="",l[a]=i;continue}if(a==="class"){var T=e.namespaceURI==="http://www.w3.org/1999/xhtml";ce(e,T,i,t,r?.[S],s[S]),l[a]=i,l[S]=s[S];continue}if(a==="style"){_e(e,i,r?.[w],s[w]),l[a]=i,l[w]=s[w];continue}var y=l[a];if(!(i===y&&!(i===void 0&&e.hasAttribute(a)))){l[a]=i;var c=a[0]+a[1];if(c!=="$$")if(c==="on"){const n={},p="$$"+a;let o=a.slice(2);var L=ue(o);if(re(o)&&(o=o.slice(0,-7),n.capture=!0),!L&&y){if(i!=null)continue;e.removeEventListener(o,l[p],n),l[p]=null}if(i!=null)if(L)e[`__${o}`]=i,te([o]);else{let q=function(z){l[a].call(this,z)};l[p]=se(o,e,q,n)}else L&&(e[`__${o}`]=void 0)}else if(a==="style")E(e,a,i);else if(a==="autofocus")ae(e,!!i);else if(!h&&(a==="__value"||a==="value"&&i!=null))e.value=e.__value=i;else if(a==="selected"&&A)de(e,i);else{var _=a;b||(_=ie(_));var I=_==="defaultValue"||_==="defaultChecked";if(i==null&&!h&&!I)if(u[a]=null,_==="value"||_==="checked"){let n=e;const p=r===void 0;if(_==="value"){let o=n.defaultValue;n.removeAttribute(_),n.defaultValue=o,n.value=n.__value=p?o:null}else{let o=n.defaultChecked;n.removeAttribute(_),n.defaultChecked=o,n.checked=p?o:!1}}else e.removeAttribute(a);else I||d.includes(_)&&(h||typeof i!="string")?e[_]=i:typeof i!="function"&&E(e,_,i)}}}return v&&M(!0),l}function ge(e,r,s=[],t=[],f,u=!1){J(s,t,h=>{var b=void 0,v={},l=e.nodeName==="SELECT",A=!1;if(j(()=>{var d=r(...h.map(Q)),T=be(e,b,d,f,u);A&&l&&"value"in d&&C(e,d.value);for(let c of Object.getOwnPropertySymbols(v))d[c]||k(v[c]);for(let c of Object.getOwnPropertySymbols(d)){var y=d[c];c.description===W&&(!b||y!==b[c])&&(v[c]&&k(v[c]),v[c]=B(()=>ne(e,()=>y))),T[c]=y}b=T}),l){var g=e;H(()=>{C(g,b.value,!0),ve(g)})}A=!0})}function V(e){return e.__attributes??={[R]:e.nodeName.includes("-"),[U]:e.namespaceURI===X}}var $=new Map;function Y(e){var r=$.get(e.nodeName);if(r)return r;$.set(e.nodeName,r=[]);for(var s,t=e,f=Element.prototype;f!==t;){s=ee(t);for(var u in s)s[u].set&&r.push(u);t=Z(t)}return r}export{ge as a,Ae as r};
