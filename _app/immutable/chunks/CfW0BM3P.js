import{o as j,T as O,s as B,ap as H,h as w,O as K,au as q,av as F,a9 as G,aw as J,k as Q,ax as W,D as I,ay as X,az as Z,aA as m,aB as x,aC as ee}from"./Cdb33sNi.js";import{i as re,c as se,f as te,h as ae,n as ie,j as fe,k as ue}from"./BhkdwHEz.js";import{t as le,c as oe,s as ce}from"./CnQCFbav.js";function ne(e,r){var s=void 0,t;j(()=>{s!==(s=r())&&(t&&(O(t),t=null),s&&(t=B(()=>{H(()=>s(e))})))})}function L(e,r={},s,t){for(var f in s){var u=s[f];r[f]!==u&&(s[f]==null?e.style.removeProperty(f):e.style.setProperty(f,u,t))}}function _e(e,r,s,t){var f=e.__style;if(w||f!==r){var u=le(r,t);(!w||u!==e.getAttribute("style"))&&(u==null?e.removeAttribute("style"):e.style.cssText=u),e.__style=r}else t&&(Array.isArray(t)?(L(e,s?.[0],t[0]),L(e,s?.[1],t[1],"important")):L(e,s,t));return t}function C(e,r,s=!1){if(e.multiple){if(r==null)return;if(!K(r))return q();for(var t of e.options)t.selected=r.includes(P(t));return}for(t of e.options){var f=P(t);if(F(f,r)){t.selected=!0;return}}(!s||r!==void 0)&&(e.selectedIndex=-1)}function ve(e){var r=new MutationObserver(()=>{C(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),G(()=>{r.disconnect()})}function P(e){return"__value"in e?e.__value:e.value}const S=Symbol("class"),T=Symbol("style"),R=Symbol("is custom element"),U=Symbol("is html");function Ae(e){if(w){var r=!1,s=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var t=e.value;N(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var f=e.checked;N(e,"checked",null),e.checked=f}}};e.__on_r=s,x(s),fe()}}function de(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function N(e,r,s,t){var f=V(e);w&&(f[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||f[r]!==(f[r]=s)&&(r==="loading"&&(e[m]=s),s==null?e.removeAttribute(r):typeof s!="string"&&Y(e).includes(r)?e[r]=s:e.setAttribute(r,s))}function be(e,r,s,t,f=!1){var u=V(e),h=u[R],b=!u[U];let v=w&&h;v&&I(!1);var l=r||{},A=e.tagName==="OPTION";for(var g in r)g in s||(s[g]=null);s.class?s.class=oe(s.class):(t||s[S])&&(s.class=null),s[T]&&(s.style??=null);var d=Y(e);for(const a in s){let i=s[a];if(A&&a==="value"&&i==null){e.value=e.__value="",l[a]=i;continue}if(a==="class"){var E=e.namespaceURI==="http://www.w3.org/1999/xhtml";ce(e,E,i,t,r?.[S],s[S]),l[a]=i,l[S]=s[S];continue}if(a==="style"){_e(e,i,r?.[T],s[T]),l[a]=i,l[T]=s[T];continue}var p=l[a];if(!(i===p&&!(i===void 0&&e.hasAttribute(a)))){l[a]=i;var c=a[0]+a[1];if(c!=="$$")if(c==="on"){const n={},y="$$"+a;let o=a.slice(2);var k=ue(o);if(re(o)&&(o=o.slice(0,-7),n.capture=!0),!k&&p){if(i!=null)continue;e.removeEventListener(o,l[y],n),l[y]=null}if(i!=null)if(k)e[`__${o}`]=i,te([o]);else{let z=function(D){l[a].call(this,D)};l[y]=se(o,e,z,n)}else k&&(e[`__${o}`]=void 0)}else if(a==="style")N(e,a,i);else if(a==="autofocus")ae(e,!!i);else if(!h&&(a==="__value"||a==="value"&&i!=null))e.value=e.__value=i;else if(a==="selected"&&A)de(e,i);else{var _=a;b||(_=ie(_));var M=_==="defaultValue"||_==="defaultChecked";if(i==null&&!h&&!M)if(u[a]=null,_==="value"||_==="checked"){let n=e;const y=r===void 0;if(_==="value"){let o=n.defaultValue;n.removeAttribute(_),n.defaultValue=o,n.value=n.__value=y?o:null}else{let o=n.defaultChecked;n.removeAttribute(_),n.defaultChecked=o,n.checked=y?o:!1}}else e.removeAttribute(a);else M||d.includes(_)&&(h||typeof i!="string")?e[_]=i:typeof i!="function"&&N(e,_,i)}}}return v&&I(!0),l}function ge(e,r,s=[],t=[],f,u=!1){J(s,t,h=>{var b=void 0,v={},l=e.nodeName==="SELECT",A=!1;if(j(()=>{var d=r(...h.map(Q)),E=be(e,b,d,f,u);A&&l&&"value"in d&&C(e,d.value);for(let c of Object.getOwnPropertySymbols(v))d[c]||O(v[c]);for(let c of Object.getOwnPropertySymbols(d)){var p=d[c];c.description===W&&(!b||p!==b[c])&&(v[c]&&O(v[c]),v[c]=B(()=>ne(e,()=>p))),E[c]=p}b=E}),l){var g=e;H(()=>{C(g,b.value,!0),ve(g)})}A=!0})}function V(e){return e.__attributes??={[R]:e.nodeName.includes("-"),[U]:e.namespaceURI===X}}var $=new Map;function Y(e){var r=$.get(e.nodeName);if(r)return r;$.set(e.nodeName,r=[]);for(var s,t=e,f=Element.prototype;f!==t;){s=ee(t);for(var u in s)s[u].set&&r.push(u);t=Z(t)}return r}export{ge as a,Ae as r};
