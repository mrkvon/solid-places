import{B as un,o as k,g as on}from"./CFXNJ6MW.js";import"./DsnmJJEf.js";import{p as cn,f as Lt,a6 as Kt,a8 as Vt,a7 as zt,a5 as V,a as z,b as fn}from"./ZmOcAfe1.js";import{r as hn,d as Q,g as ln,f as dn,b as vn}from"./DXbKMHJn.js";import{i as Qt}from"./DbDyctlH.js";import{S as pn,z as $t,A as m,C as Mt,q as L,i as Ba,D as Jt,E as Wt,F as _n,o as bn,G as gn,H as Xt,n as Na,J as yn,K as qn,s as $,X as Rn}from"./BPhQ1Ot-.js";import{a as mn,s as Cn}from"./FHFy0IG3.js";function ss(...e){return new un(e)}var On=class extends pn{constructor(e,t){super(),this.options=t,this.#r=e,this.#n=null,this.#a=$t(),this.bindMethods(),this.setOptions(t)}#r;#e=void 0;#v=void 0;#t=void 0;#s;#f;#a;#n;#p;#h;#l;#u;#o;#i;#d=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Zt(this.#e,this.options)?this.#c():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ft(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ft(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#q(),this.#R(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#r.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof m(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#m(),this.#e.setOptions(this.options),t._defaulted&&!Mt(this.options,t)&&this.#r.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const a=this.hasListeners();a&&Yt(this.#e,r,this.options,t)&&this.#c(),this.updateResult(),a&&(this.#e!==r||m(this.options.enabled,this.#e)!==m(t.enabled,this.#e)||L(this.options.staleTime,this.#e)!==L(t.staleTime,this.#e))&&this.#_();const n=this.#b();a&&(this.#e!==r||m(this.options.enabled,this.#e)!==m(t.enabled,this.#e)||n!==this.#i)&&this.#g(n)}getOptimisticResult(e){const t=this.#r.getQueryCache().build(this.#r,e),r=this.createResult(t,e);return Sn(this,r)&&(this.#t=r,this.#f=this.options,this.#s=this.#e.state),r}getCurrentResult(){return this.#t}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t?.(a),a==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,a))})}trackProp(e){this.#d.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#r.defaultQueryOptions(e),r=this.#r.getQueryCache().build(this.#r,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#c({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#c(e){this.#m();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ba)),t}#_(){this.#q();const e=L(this.options.staleTime,this.#e);if(Jt||this.#t.isStale||!Wt(e))return;const r=_n(this.#t.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#t.isStale||this.updateResult()},r)}#b(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#g(e){this.#R(),this.#i=e,!(Jt||m(this.options.enabled,this.#e)===!1||!Wt(this.#i)||this.#i===0)&&(this.#o=setInterval(()=>{(this.options.refetchIntervalInBackground||bn.isFocused())&&this.#c()},this.#i))}#y(){this.#_(),this.#g(this.#b())}#q(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#R(){this.#o&&(clearInterval(this.#o),this.#o=void 0)}createResult(e,t){const r=this.#e,a=this.options,n=this.#t,i=this.#s,s=this.#f,o=e!==r?e.state:this.#v,{state:c}=e;let f={...c},l=!1,h;if(t._optimisticResults){const p=this.hasListeners(),O=!p&&Zt(e,t),g=p&&Yt(e,r,t,a);(O||g)&&(f={...f,...gn(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:_,status:q}=f;h=f.data;let R=!1;if(t.placeholderData!==void 0&&h===void 0&&q==="pending"){let p;n?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(p=n.data,R=!0):p=typeof t.placeholderData=="function"?t.placeholderData(this.#l?.state.data,this.#l):t.placeholderData,p!==void 0&&(q="success",h=Xt(n?.data,p,t),l=!0)}if(t.select&&h!==void 0&&!R)if(n&&h===i?.data&&t.select===this.#p)h=this.#h;else try{this.#p=t.select,h=t.select(h),h=Xt(n?.data,h,t),this.#h=h,this.#n=null}catch(p){this.#n=p}this.#n&&(v=this.#n,h=this.#h,_=Date.now(),q="error");const C=f.fetchStatus==="fetching",y=q==="pending",I=q==="error",w=y&&C,T=h!==void 0,b={status:q,fetchStatus:f.fetchStatus,isPending:y,isSuccess:q==="success",isError:I,isInitialLoading:w,isLoading:w,data:h,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:_,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>o.dataUpdateCount||f.errorUpdateCount>o.errorUpdateCount,isFetching:C,isRefetching:C&&!y,isLoadingError:I&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:l,isRefetchError:I&&T,isStale:Et(e,t),refetch:this.refetch,promise:this.#a,isEnabled:m(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const p=d=>{b.status==="error"?d.reject(b.error):b.data!==void 0&&d.resolve(b.data)},O=()=>{const d=this.#a=b.promise=$t();p(d)},g=this.#a;switch(g.status){case"pending":e.queryHash===r.queryHash&&p(g);break;case"fulfilled":(b.status==="error"||b.data!==g.value)&&O();break;case"rejected":(b.status!=="error"||b.error!==g.reason)&&O();break}}return b}updateResult(){const e=this.#t,t=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#f=this.options,this.#s.data!==void 0&&(this.#l=this.#e),Mt(t,e))return;this.#t=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,n=typeof a=="function"?a():a;if(n==="all"||!n&&!this.#d.size)return!0;const i=new Set(n??this.#d);return this.options.throwOnError&&i.add("error"),Object.keys(this.#t).some(s=>{const u=s;return this.#t[u]!==e[u]&&i.has(u)})};this.#C({listeners:r()})}#m(){const e=this.#r.getQueryCache().build(this.#r,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#v=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#C(e){Na.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#t)}),this.#r.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Tn(e,t){return m(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Zt(e,t){return Tn(e,t)||e.state.data!==void 0&&Ft(e,t,t.refetchOnMount)}function Ft(e,t,r){if(m(t.enabled,e)!==!1&&L(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&Et(e,t)}return!1}function Yt(e,t,r,a){return(e!==t||m(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Et(e,r)}function Et(e,t){return m(t.enabled,e)!==!1&&e.isStaleByTime(L(t.staleTime,e))}function Sn(e,t){return!Mt(e.getCurrentResult(),t)}function In(){return yn()}function An(e){return qn()}function jn(e){return"subscribe"in e&&typeof e.subscribe=="function"}function wn(e,t,r){const a=An(),n=In(),i=jn(e)?e:hn(e),s=Q([i,n],([f,l])=>{const h=a.defaultQueryOptions(f);return h._optimisticResults=l?"isRestoring":"optimistic",h}),u=new t(a,ln(s));s.subscribe(f=>{u.setOptions(f)});const o=Q(n,(f,l)=>{const h=f?Ba:u.subscribe(Na.batchCalls(l));return u.updateResult(),h}),{subscribe:c}=Q([o,s],([f,l])=>(f=u.getOptimisticResult(l),l.notifyOnChangeProps?f:u.trackResult(f)));return{subscribe:c}}function Pn(e,t){return wn(e,On)}var J,er;function xn(){if(er)return J;er=1;function e(){this.__data__=[],this.size=0}return J=e,J}var W,tr;function U(){if(tr)return W;tr=1;function e(t,r){return t===r||t!==t&&r!==r}return W=e,W}var X,rr;function G(){if(rr)return X;rr=1;var e=U();function t(r,a){for(var n=r.length;n--;)if(e(r[n][0],a))return n;return-1}return X=t,X}var Z,ar;function Dn(){if(ar)return Z;ar=1;var e=G(),t=Array.prototype,r=t.splice;function a(n){var i=this.__data__,s=e(i,n);if(s<0)return!1;var u=i.length-1;return s==u?i.pop():r.call(i,s,1),--this.size,!0}return Z=a,Z}var Y,nr;function Mn(){if(nr)return Y;nr=1;var e=G();function t(r){var a=this.__data__,n=e(a,r);return n<0?void 0:a[n][1]}return Y=t,Y}var ee,ir;function Fn(){if(ir)return ee;ir=1;var e=G();function t(r){return e(this.__data__,r)>-1}return ee=t,ee}var te,sr;function Ln(){if(sr)return te;sr=1;var e=G();function t(r,a){var n=this.__data__,i=e(n,r);return i<0?(++this.size,n.push([r,a])):n[i][1]=a,this}return te=t,te}var re,ur;function H(){if(ur)return re;ur=1;var e=xn(),t=Dn(),r=Mn(),a=Fn(),n=Ln();function i(s){var u=-1,o=s==null?0:s.length;for(this.clear();++u<o;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=n,re=i,re}var ae,or;function En(){if(or)return ae;or=1;var e=H();function t(){this.__data__=new e,this.size=0}return ae=t,ae}var ne,cr;function kn(){if(cr)return ne;cr=1;function e(t){var r=this.__data__,a=r.delete(t);return this.size=r.size,a}return ne=e,ne}var ie,fr;function Un(){if(fr)return ie;fr=1;function e(t){return this.__data__.get(t)}return ie=e,ie}var se,hr;function Gn(){if(hr)return se;hr=1;function e(t){return this.__data__.has(t)}return se=e,se}var ue,lr;function Ka(){if(lr)return ue;lr=1;var e=typeof k=="object"&&k&&k.Object===Object&&k;return ue=e,ue}var oe,dr;function P(){if(dr)return oe;dr=1;var e=Ka(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return oe=r,oe}var ce,vr;function Va(){if(vr)return ce;vr=1;var e=P(),t=e.Symbol;return ce=t,ce}var fe,pr;function Hn(){if(pr)return fe;pr=1;var e=Va(),t=Object.prototype,r=t.hasOwnProperty,a=t.toString,n=e?e.toStringTag:void 0;function i(s){var u=r.call(s,n),o=s[n];try{s[n]=void 0;var c=!0}catch{}var f=a.call(s);return c&&(u?s[n]=o:delete s[n]),f}return fe=i,fe}var he,_r;function Bn(){if(_r)return he;_r=1;var e=Object.prototype,t=e.toString;function r(a){return t.call(a)}return he=r,he}var le,br;function B(){if(br)return le;br=1;var e=Va(),t=Hn(),r=Bn(),a="[object Null]",n="[object Undefined]",i=e?e.toStringTag:void 0;function s(u){return u==null?u===void 0?n:a:i&&i in Object(u)?t(u):r(u)}return le=s,le}var de,gr;function j(){if(gr)return de;gr=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return de=e,de}var ve,yr;function kt(){if(yr)return ve;yr=1;var e=B(),t=j(),r="[object AsyncFunction]",a="[object Function]",n="[object GeneratorFunction]",i="[object Proxy]";function s(u){if(!t(u))return!1;var o=e(u);return o==a||o==n||o==r||o==i}return ve=s,ve}var pe,qr;function Nn(){if(qr)return pe;qr=1;var e=P(),t=e["__core-js_shared__"];return pe=t,pe}var _e,Rr;function Kn(){if(Rr)return _e;Rr=1;var e=Nn(),t=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function r(a){return!!t&&t in a}return _e=r,_e}var be,mr;function Vn(){if(mr)return be;mr=1;var e=Function.prototype,t=e.toString;function r(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return be=r,be}var ge,Cr;function zn(){if(Cr)return ge;Cr=1;var e=kt(),t=Kn(),r=j(),a=Vn(),n=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,o=s.toString,c=u.hasOwnProperty,f=RegExp("^"+o.call(c).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l(h){if(!r(h)||t(h))return!1;var v=e(h)?f:i;return v.test(a(h))}return ge=l,ge}var ye,Or;function Qn(){if(Or)return ye;Or=1;function e(t,r){return t?.[r]}return ye=e,ye}var qe,Tr;function Ut(){if(Tr)return qe;Tr=1;var e=zn(),t=Qn();function r(a,n){var i=t(a,n);return e(i)?i:void 0}return qe=r,qe}var Re,Sr;function za(){if(Sr)return Re;Sr=1;var e=Ut(),t=P(),r=e(t,"Map");return Re=r,Re}var me,Ir;function N(){if(Ir)return me;Ir=1;var e=Ut(),t=e(Object,"create");return me=t,me}var Ce,Ar;function $n(){if(Ar)return Ce;Ar=1;var e=N();function t(){this.__data__=e?e(null):{},this.size=0}return Ce=t,Ce}var Oe,jr;function Jn(){if(jr)return Oe;jr=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Oe=e,Oe}var Te,wr;function Wn(){if(wr)return Te;wr=1;var e=N(),t="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function n(i){var s=this.__data__;if(e){var u=s[i];return u===t?void 0:u}return a.call(s,i)?s[i]:void 0}return Te=n,Te}var Se,Pr;function Xn(){if(Pr)return Se;Pr=1;var e=N(),t=Object.prototype,r=t.hasOwnProperty;function a(n){var i=this.__data__;return e?i[n]!==void 0:r.call(i,n)}return Se=a,Se}var Ie,xr;function Zn(){if(xr)return Ie;xr=1;var e=N(),t="__lodash_hash_undefined__";function r(a,n){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&n===void 0?t:n,this}return Ie=r,Ie}var Ae,Dr;function Yn(){if(Dr)return Ae;Dr=1;var e=$n(),t=Jn(),r=Wn(),a=Xn(),n=Zn();function i(s){var u=-1,o=s==null?0:s.length;for(this.clear();++u<o;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=n,Ae=i,Ae}var je,Mr;function ei(){if(Mr)return je;Mr=1;var e=Yn(),t=H(),r=za();function a(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return je=a,je}var we,Fr;function ti(){if(Fr)return we;Fr=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return we=e,we}var Pe,Lr;function K(){if(Lr)return Pe;Lr=1;var e=ti();function t(r,a){var n=r.__data__;return e(a)?n[typeof a=="string"?"string":"hash"]:n.map}return Pe=t,Pe}var xe,Er;function ri(){if(Er)return xe;Er=1;var e=K();function t(r){var a=e(this,r).delete(r);return this.size-=a?1:0,a}return xe=t,xe}var De,kr;function ai(){if(kr)return De;kr=1;var e=K();function t(r){return e(this,r).get(r)}return De=t,De}var Me,Ur;function ni(){if(Ur)return Me;Ur=1;var e=K();function t(r){return e(this,r).has(r)}return Me=t,Me}var Fe,Gr;function ii(){if(Gr)return Fe;Gr=1;var e=K();function t(r,a){var n=e(this,r),i=n.size;return n.set(r,a),this.size+=n.size==i?0:1,this}return Fe=t,Fe}var Le,Hr;function si(){if(Hr)return Le;Hr=1;var e=ei(),t=ri(),r=ai(),a=ni(),n=ii();function i(s){var u=-1,o=s==null?0:s.length;for(this.clear();++u<o;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=n,Le=i,Le}var Ee,Br;function ui(){if(Br)return Ee;Br=1;var e=H(),t=za(),r=si(),a=200;function n(i,s){var u=this.__data__;if(u instanceof e){var o=u.__data__;if(!t||o.length<a-1)return o.push([i,s]),this.size=++u.size,this;u=this.__data__=new r(o)}return u.set(i,s),this.size=u.size,this}return Ee=n,Ee}var ke,Nr;function oi(){if(Nr)return ke;Nr=1;var e=H(),t=En(),r=kn(),a=Un(),n=Gn(),i=ui();function s(u){var o=this.__data__=new e(u);this.size=o.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=a,s.prototype.has=n,s.prototype.set=i,ke=s,ke}var Ue,Kr;function Qa(){if(Kr)return Ue;Kr=1;var e=Ut(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Ue=t,Ue}var Ge,Vr;function Gt(){if(Vr)return Ge;Vr=1;var e=Qa();function t(r,a,n){a=="__proto__"&&e?e(r,a,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[a]=n}return Ge=t,Ge}var He,zr;function $a(){if(zr)return He;zr=1;var e=Gt(),t=U();function r(a,n,i){(i!==void 0&&!t(a[n],i)||i===void 0&&!(n in a))&&e(a,n,i)}return He=r,He}var Be,Qr;function ci(){if(Qr)return Be;Qr=1;function e(t){return function(r,a,n){for(var i=-1,s=Object(r),u=n(r),o=u.length;o--;){var c=u[t?o:++i];if(a(s[c],c,s)===!1)break}return r}}return Be=e,Be}var Ne,$r;function fi(){if($r)return Ne;$r=1;var e=ci(),t=e();return Ne=t,Ne}var D={exports:{}};D.exports;var Jr;function hi(){return Jr||(Jr=1,function(e,t){var r=P(),a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,s=i?r.Buffer:void 0,u=s?s.allocUnsafe:void 0;function o(c,f){if(f)return c.slice();var l=c.length,h=u?u(l):new c.constructor(l);return c.copy(h),h}e.exports=o}(D,D.exports)),D.exports}var Ke,Wr;function li(){if(Wr)return Ke;Wr=1;var e=P(),t=e.Uint8Array;return Ke=t,Ke}var Ve,Xr;function di(){if(Xr)return Ve;Xr=1;var e=li();function t(r){var a=new r.constructor(r.byteLength);return new e(a).set(new e(r)),a}return Ve=t,Ve}var ze,Zr;function vi(){if(Zr)return ze;Zr=1;var e=di();function t(r,a){var n=a?e(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.length)}return ze=t,ze}var Qe,Yr;function pi(){if(Yr)return Qe;Yr=1;function e(t,r){var a=-1,n=t.length;for(r||(r=Array(n));++a<n;)r[a]=t[a];return r}return Qe=e,Qe}var $e,ea;function _i(){if(ea)return $e;ea=1;var e=j(),t=Object.create,r=function(){function a(){}return function(n){if(!e(n))return{};if(t)return t(n);a.prototype=n;var i=new a;return a.prototype=void 0,i}}();return $e=r,$e}var Je,ta;function bi(){if(ta)return Je;ta=1;function e(t,r){return function(a){return t(r(a))}}return Je=e,Je}var We,ra;function Ja(){if(ra)return We;ra=1;var e=bi(),t=e(Object.getPrototypeOf,Object);return We=t,We}var Xe,aa;function Wa(){if(aa)return Xe;aa=1;var e=Object.prototype;function t(r){var a=r&&r.constructor,n=typeof a=="function"&&a.prototype||e;return r===n}return Xe=t,Xe}var Ze,na;function gi(){if(na)return Ze;na=1;var e=_i(),t=Ja(),r=Wa();function a(n){return typeof n.constructor=="function"&&!r(n)?e(t(n)):{}}return Ze=a,Ze}var Ye,ia;function E(){if(ia)return Ye;ia=1;function e(t){return t!=null&&typeof t=="object"}return Ye=e,Ye}var et,sa;function yi(){if(sa)return et;sa=1;var e=B(),t=E(),r="[object Arguments]";function a(n){return t(n)&&e(n)==r}return et=a,et}var tt,ua;function Xa(){if(ua)return tt;ua=1;var e=yi(),t=E(),r=Object.prototype,a=r.hasOwnProperty,n=r.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(s){return t(s)&&a.call(s,"callee")&&!n.call(s,"callee")};return tt=i,tt}var rt,oa;function Za(){if(oa)return rt;oa=1;var e=Array.isArray;return rt=e,rt}var at,ca;function Ya(){if(ca)return at;ca=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return at=t,at}var nt,fa;function Ht(){if(fa)return nt;fa=1;var e=kt(),t=Ya();function r(a){return a!=null&&t(a.length)&&!e(a)}return nt=r,nt}var it,ha;function qi(){if(ha)return it;ha=1;var e=Ht(),t=E();function r(a){return t(a)&&e(a)}return it=r,it}var M={exports:{}},st,la;function Ri(){if(la)return st;la=1;function e(){return!1}return st=e,st}M.exports;var da;function en(){return da||(da=1,function(e,t){var r=P(),a=Ri(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,u=s?r.Buffer:void 0,o=u?u.isBuffer:void 0,c=o||a;e.exports=c}(M,M.exports)),M.exports}var ut,va;function mi(){if(va)return ut;va=1;var e=B(),t=Ja(),r=E(),a="[object Object]",n=Function.prototype,i=Object.prototype,s=n.toString,u=i.hasOwnProperty,o=s.call(Object);function c(f){if(!r(f)||e(f)!=a)return!1;var l=t(f);if(l===null)return!0;var h=u.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==o}return ut=c,ut}var ot,pa;function Ci(){if(pa)return ot;pa=1;var e=B(),t=Ya(),r=E(),a="[object Arguments]",n="[object Array]",i="[object Boolean]",s="[object Date]",u="[object Error]",o="[object Function]",c="[object Map]",f="[object Number]",l="[object Object]",h="[object RegExp]",v="[object Set]",_="[object String]",q="[object WeakMap]",R="[object ArrayBuffer]",C="[object DataView]",y="[object Float32Array]",I="[object Float64Array]",w="[object Int8Array]",T="[object Int16Array]",S="[object Int32Array]",b="[object Uint8Array]",p="[object Uint8ClampedArray]",O="[object Uint16Array]",g="[object Uint32Array]",d={};d[y]=d[I]=d[w]=d[T]=d[S]=d[b]=d[p]=d[O]=d[g]=!0,d[a]=d[n]=d[R]=d[i]=d[C]=d[s]=d[u]=d[o]=d[c]=d[f]=d[l]=d[h]=d[v]=d[_]=d[q]=!1;function x(A){return r(A)&&t(A.length)&&!!d[e(A)]}return ot=x,ot}var ct,_a;function Oi(){if(_a)return ct;_a=1;function e(t){return function(r){return t(r)}}return ct=e,ct}var F={exports:{}};F.exports;var ba;function Ti(){return ba||(ba=1,function(e,t){var r=Ka(),a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,s=i&&r.process,u=function(){try{var o=n&&n.require&&n.require("util").types;return o||s&&s.binding&&s.binding("util")}catch{}}();e.exports=u}(F,F.exports)),F.exports}var ft,ga;function tn(){if(ga)return ft;ga=1;var e=Ci(),t=Oi(),r=Ti(),a=r&&r.isTypedArray,n=a?t(a):e;return ft=n,ft}var ht,ya;function rn(){if(ya)return ht;ya=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return ht=e,ht}var lt,qa;function Si(){if(qa)return lt;qa=1;var e=Gt(),t=U(),r=Object.prototype,a=r.hasOwnProperty;function n(i,s,u){var o=i[s];(!(a.call(i,s)&&t(o,u))||u===void 0&&!(s in i))&&e(i,s,u)}return lt=n,lt}var dt,Ra;function Ii(){if(Ra)return dt;Ra=1;var e=Si(),t=Gt();function r(a,n,i,s){var u=!i;i||(i={});for(var o=-1,c=n.length;++o<c;){var f=n[o],l=s?s(i[f],a[f],f,i,a):void 0;l===void 0&&(l=a[f]),u?t(i,f,l):e(i,f,l)}return i}return dt=r,dt}var vt,ma;function Ai(){if(ma)return vt;ma=1;function e(t,r){for(var a=-1,n=Array(t);++a<t;)n[a]=r(a);return n}return vt=e,vt}var pt,Ca;function an(){if(Ca)return pt;Ca=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(a,n){var i=typeof a;return n=n??e,!!n&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<n}return pt=r,pt}var _t,Oa;function ji(){if(Oa)return _t;Oa=1;var e=Ai(),t=Xa(),r=Za(),a=en(),n=an(),i=tn(),s=Object.prototype,u=s.hasOwnProperty;function o(c,f){var l=r(c),h=!l&&t(c),v=!l&&!h&&a(c),_=!l&&!h&&!v&&i(c),q=l||h||v||_,R=q?e(c.length,String):[],C=R.length;for(var y in c)(f||u.call(c,y))&&!(q&&(y=="length"||v&&(y=="offset"||y=="parent")||_&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||n(y,C)))&&R.push(y);return R}return _t=o,_t}var bt,Ta;function wi(){if(Ta)return bt;Ta=1;function e(t){var r=[];if(t!=null)for(var a in Object(t))r.push(a);return r}return bt=e,bt}var gt,Sa;function Pi(){if(Sa)return gt;Sa=1;var e=j(),t=Wa(),r=wi(),a=Object.prototype,n=a.hasOwnProperty;function i(s){if(!e(s))return r(s);var u=t(s),o=[];for(var c in s)c=="constructor"&&(u||!n.call(s,c))||o.push(c);return o}return gt=i,gt}var yt,Ia;function nn(){if(Ia)return yt;Ia=1;var e=ji(),t=Pi(),r=Ht();function a(n){return r(n)?e(n,!0):t(n)}return yt=a,yt}var qt,Aa;function xi(){if(Aa)return qt;Aa=1;var e=Ii(),t=nn();function r(a){return e(a,t(a))}return qt=r,qt}var Rt,ja;function Di(){if(ja)return Rt;ja=1;var e=$a(),t=hi(),r=vi(),a=pi(),n=gi(),i=Xa(),s=Za(),u=qi(),o=en(),c=kt(),f=j(),l=mi(),h=tn(),v=rn(),_=xi();function q(R,C,y,I,w,T,S){var b=v(R,y),p=v(C,y),O=S.get(p);if(O){e(R,y,O);return}var g=T?T(b,p,y+"",R,C,S):void 0,d=g===void 0;if(d){var x=s(p),A=!x&&o(p),Nt=!x&&!A&&h(p);g=p,x||A||Nt?s(b)?g=b:u(b)?g=a(b):A?(d=!1,g=t(p,!0)):Nt?(d=!1,g=r(p,!0)):g=[]:l(p)||i(p)?(g=b,i(b)?g=_(b):(!f(b)||c(b))&&(g=n(p))):d=!1}d&&(S.set(p,g),w(g,p,I,T,S),S.delete(p)),e(R,y,g)}return Rt=q,Rt}var mt,wa;function Mi(){if(wa)return mt;wa=1;var e=oi(),t=$a(),r=fi(),a=Di(),n=j(),i=nn(),s=rn();function u(o,c,f,l,h){o!==c&&r(c,function(v,_){if(h||(h=new e),n(v))a(o,c,_,f,u,l,h);else{var q=l?l(s(o,_),v,_+"",o,c,h):void 0;q===void 0&&(q=v),t(o,_,q)}},i)}return mt=u,mt}var Ct,Pa;function sn(){if(Pa)return Ct;Pa=1;function e(t){return t}return Ct=e,Ct}var Ot,xa;function Fi(){if(xa)return Ot;xa=1;function e(t,r,a){switch(a.length){case 0:return t.call(r);case 1:return t.call(r,a[0]);case 2:return t.call(r,a[0],a[1]);case 3:return t.call(r,a[0],a[1],a[2])}return t.apply(r,a)}return Ot=e,Ot}var Tt,Da;function Li(){if(Da)return Tt;Da=1;var e=Fi(),t=Math.max;function r(a,n,i){return n=t(n===void 0?a.length-1:n,0),function(){for(var s=arguments,u=-1,o=t(s.length-n,0),c=Array(o);++u<o;)c[u]=s[n+u];u=-1;for(var f=Array(n+1);++u<n;)f[u]=s[u];return f[n]=i(c),e(a,this,f)}}return Tt=r,Tt}var St,Ma;function Ei(){if(Ma)return St;Ma=1;function e(t){return function(){return t}}return St=e,St}var It,Fa;function ki(){if(Fa)return It;Fa=1;var e=Ei(),t=Qa(),r=sn(),a=t?function(n,i){return t(n,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return It=a,It}var At,La;function Ui(){if(La)return At;La=1;var e=800,t=16,r=Date.now;function a(n){var i=0,s=0;return function(){var u=r(),o=t-(u-s);if(s=u,o>0){if(++i>=e)return arguments[0]}else i=0;return n.apply(void 0,arguments)}}return At=a,At}var jt,Ea;function Gi(){if(Ea)return jt;Ea=1;var e=ki(),t=Ui(),r=t(e);return jt=r,jt}var wt,ka;function Hi(){if(ka)return wt;ka=1;var e=sn(),t=Li(),r=Gi();function a(n,i){return r(t(n,i,e),n+"")}return wt=a,wt}var Pt,Ua;function Bi(){if(Ua)return Pt;Ua=1;var e=U(),t=Ht(),r=an(),a=j();function n(i,s,u){if(!a(u))return!1;var o=typeof s;return(o=="number"?t(u)&&r(s,u.length):o=="string"&&s in u)?e(u[s],i):!1}return Pt=n,Pt}var xt,Ga;function Ni(){if(Ga)return xt;Ga=1;var e=Hi(),t=Bi();function r(a){return e(function(n,i){var s=-1,u=i.length,o=u>1?i[u-1]:void 0,c=u>2?i[2]:void 0;for(o=a.length>3&&typeof o=="function"?(u--,o):void 0,c&&t(i[0],i[1],c)&&(o=u<3?void 0:o,u=1),n=Object(n);++s<u;){var f=i[s];f&&a(n,f,s,o)}return n})}return xt=r,xt}var Dt,Ha;function Ki(){if(Ha)return Dt;Ha=1;var e=Mi(),t=Ni(),r=t(function(a,n,i){e(a,n,i)});return Dt=r,Dt}var Vi=Ki();const zi=on(Vi);class Bt extends Error{status;response;constructor(t,r){super(t),this.name="HttpError",this.status=r.status,this.response=r,Object.setPrototypeOf(this,Bt.prototype)}}const us=async(e,t)=>e.trim().length===0?[]:(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${encodeURIComponent(e)}&language=${t}&limit=20&continue=0&format=json&uselang=${t}&type=item&origin=*`)).json()).search.map(({concepturi:n,...i})=>zi({aliases:[],photos:[]},{...i,uri:n})),Qi=async(e,t)=>{const r=e.match($i)?.[2]??"";if(!r)throw new Error("Not a wikidata entity");const a=await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${r}&languages=${t}&format=json&origin=*`);if(!a.ok)throw new Bt("Fetching interest failed",a);const n=await a.json();if(!n||!n.entities)throw new Error("Not ");const i=n.entities[r];if(!i)throw new Error("Entity not found");const s=i.labels[t]?.value,u=i.descriptions[t]?.value,o=(i.claims.P18??[]).map(_=>_.mainsnak.datavalue?.value)[0],c=(i.claims.P154??[]).map(_=>_.mainsnak.datavalue?.value)[0],f=o&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(o)}?width=300`,l=c&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(c)}?width=300`,h=(i.claims.P856??[]).map(_=>_.mainsnak.datavalue?.value)[0],v=(i.aliases[t]??[]).map(({value:_})=>_);return{id:r,uri:e,label:s,aliases:v,description:u,officialWebsite:h,image:l||f}},$i=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/;var Ji=Lt('<img class="image svelte-c7qp8r"/>'),Wi=(e,t,r,a)=>t.onClickRemove(r().data),Xi=Lt('<button type="button"><!></button>'),Zi=Lt('<div class="tag svelte-c7qp8r" data-testid="topic-tag"><!> <!></div>');function os(e,t){cn(t,!0);const[r,a]=Cn(),n=()=>mn(i,"$query",r),i=Pn({queryKey:["topic",t.uri,"en"],queryFn:()=>Qi(t.uri,"en"),initialData:{uri:t.uri,aliases:[],id:t.uri.split("/").pop()},initialDataUpdatedAt:0,staleTime:3e5});var s=Zi(),u=Kt(s);{var o=h=>{var v=Ji();V(()=>{$(v,"src",n().data.image),$(v,"alt",n().data.label)}),z(h,v)};Qt(u,h=>{n().data.image&&h(o)})}var c=Vt(u),f=Vt(c);{var l=h=>{var v=Xi();v.__click=[Wi,t,n,i];var _=Kt(v);Rn(_,{"aria-hidden":"true",size:"1.25rem"}),zt(v),V(()=>$(v,"aria-label",`Remove ${n().data.label??""}`)),z(h,v)};Qt(f,h=>{t.onClickRemove&&h(l)})}zt(s),V(()=>vn(c,` ${n().data.label??n().data.id??""} `)),z(e,s),fn(),a()}dn(["click"]);export{os as T,us as a,Pn as c,zi as m,ss as s};
