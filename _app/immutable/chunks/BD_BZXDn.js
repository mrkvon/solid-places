import{e as Z,d as ne,l as $,m as g,h as D,o as fe,b as ie,q as Q,t as le,v as se,H as te,w as U,x as z,j as O,C as ue,y as ve,g as K,s as de,z as B,A as F,c as _e,B as X,D as ce,F as W,G as k,I as oe,J as y,k as he,K as me,L as G,M as pe,N as j,O as Ee,P as Te,Q as Ae,R as Ie,S as we,T as xe}from"./oCosmefv.js";let q=null;function De(l){q=l}function Se(l,n){return n}function Ce(l,n,e){for(var t=l.items,u=[],v=n.length,s=0;s<v;s++)Ae(n[s].e,u,!0);var o=v>0&&u.length===0&&e!==null;if(o){var T=e.parentNode;Ie(T),T.append(e),t.clear(),x(l,n[0].prev,n[v-1].next)}we(u,()=>{for(var E=0;E<v;E++){var _=n[E];o||(t.delete(_.k),x(l,_.prev,_.next)),j(_.e,!o)}})}function He(l,n,e,t,u,v=null){var s=l,o={flags:n,items:new Map,first:null},T=(n&$)!==0;if(T){var E=l;s=D?g(fe(E)):E.appendChild(Z())}D&&ie();var _=null,N=!1,A=new Map,S=le(()=>{var d=e();return oe(d)?d:d==null?[]:k(d)}),f,m;function r(){Ne(m,f,o,A,s,u,n,t,e),v!==null&&(f.length===0?_?y(_):_=K(()=>v(s)):_!==null&&he(_,()=>{_=null}))}ne(()=>{m??=xe,f=Q(S);var d=f.length;if(N&&d===0)return;N=d===0;let p=!1;if(D){var I=se(s)===te;I!==(d===0)&&(s=U(),g(s),z(!1),p=!0)}if(D){for(var C=null,c,a=0;a<d;a++){if(O.nodeType===ue&&O.data===ve){s=O,p=!0,z(!1);break}var i=f[a],h=t(i,a);c=P(O,o,C,null,i,h,a,u,n,e),o.items.set(h,c),C=c}d>0&&g(U())}if(D)d===0&&v&&(_=K(()=>v(s)));else if(de()){var H=new Set,b=_e;for(a=0;a<d;a+=1){i=f[a],h=t(i,a);var M=o.items.get(h)??A.get(h);M?(n&(B|F))!==0&&ee(M,i,a,n):(c=P(null,o,null,null,i,h,a,u,n,e,!0),A.set(h,c)),H.add(h)}for(const[w,L]of o.items)H.has(w)||b.skipped_effects.add(L.e);b.add_callback(r)}else r();p&&z(!0),Q(S)}),D&&(s=O)}function Ne(l,n,e,t,u,v,s,o,T){var E=(s&Ee)!==0,_=(s&(B|F))!==0,N=n.length,A=e.items,S=e.first,f=S,m,r=null,d,p=[],I=[],C,c,a,i;if(E)for(i=0;i<N;i+=1)C=n[i],c=o(C,i),a=A.get(c),a!==void 0&&(a.a?.measure(),(d??=new Set).add(a));for(i=0;i<N;i+=1){if(C=n[i],c=o(C,i),a=A.get(c),a===void 0){var h=t.get(c);if(h!==void 0){t.delete(c),A.set(c,h);var H=r?r.next:f;x(e,r,h),x(e,h,H),J(h,H,u),r=h}else{var b=f?f.e.nodes_start:u;r=P(b,e,r,r===null?e.first:r.next,C,c,i,v,s,T)}A.set(c,r),p=[],I=[],f=r.next;continue}if(_&&ee(a,C,i,s),(a.e.f&G)!==0&&(y(a.e),E&&(a.a?.unfix(),(d??=new Set).delete(a))),a!==f){if(m!==void 0&&m.has(a)){if(p.length<I.length){var M=I[0],w;r=M.prev;var L=p[0],V=p[p.length-1];for(w=0;w<p.length;w+=1)J(p[w],M,u);for(w=0;w<I.length;w+=1)m.delete(I[w]);x(e,L.prev,V.next),x(e,r,L),x(e,V,M),f=M,r=V,i-=1,p=[],I=[]}else m.delete(a),J(a,f,u),x(e,a.prev,a.next),x(e,a,r===null?e.first:r.next),x(e,r,a),r=a;continue}for(p=[],I=[];f!==null&&f.k!==c;)(f.e.f&G)===0&&(m??=new Set).add(f),I.push(f),f=f.next;if(f===null)continue;a=f}p.push(a),r=a,f=a.next}if(f!==null||m!==void 0){for(var R=m===void 0?[]:k(m);f!==null;)(f.e.f&G)===0&&R.push(f),f=f.next;var Y=R.length;if(Y>0){var ae=(s&$)!==0&&N===0?u:null;if(E){for(i=0;i<Y;i+=1)R[i].a?.measure();for(i=0;i<Y;i+=1)R[i].a?.fix()}Ce(e,R,ae)}}E&&pe(()=>{if(d!==void 0)for(a of d)a.a?.apply()}),l.first=e.first&&e.first.e,l.last=r&&r.e;for(var re of t.values())j(re.e);t.clear()}function ee(l,n,e,t){(t&B)!==0&&X(l.v,n),(t&F)!==0?X(l.i,e):l.i=e}function P(l,n,e,t,u,v,s,o,T,E,_){var N=q,A=(T&B)!==0,S=(T&me)===0,f=A?S?ce(u,!1,!1):W(u):u,m=(T&F)===0?s:W(s),r={i:m,v:f,k:v,a:null,e:null,prev:e,next:t};q=r;try{if(l===null){var d=document.createDocumentFragment();d.append(l=Z())}return r.e=K(()=>o(l,f,m,E),D),r.e.prev=e&&e.e,r.e.next=t&&t.e,e===null?_||(n.first=r):(e.next=r,e.e.next=r.e),t!==null&&(t.prev=r,t.e.prev=r.e),r}finally{q=N}}function J(l,n,e){for(var t=l.next?l.next.e.nodes_start:e,u=n?n.e.nodes_start:e,v=l.e.nodes_start;v!==null&&v!==t;){var s=Te(v);u.before(v),v=s}}function x(l,n,e){n===null?l.first=e:(n.next=e,n.e.next=e&&e.e),e!==null&&(e.prev=n,e.e.prev=n&&n.e)}export{q as c,He as e,Se as i,De as s};
