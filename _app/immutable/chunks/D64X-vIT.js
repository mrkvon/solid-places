import{c as U,J as P,e as Y,ag as z,h as k,B as ee,ay as ae,az as F,a0 as K,aA as re,m as se,aB as te,t as j,aC as le,aD as ie,aE as fe,aF as ce,aG as ue,aH as oe,g as E,T as J,ah as B,aI as ne,G as q}from"./BprpeBWN.js";import{i as ve,f as de,j as _e,k as he,n as be,l as ye,p as ke,q as V}from"./oy6xE-rC.js";import{t as ge,c as Ae,b as Se}from"./Coxj7Hfx.js";function Ee(e,r){var a=void 0,s;U(()=>{a!==(a=r())&&(s&&(P(s),s=null),a&&(s=Y(()=>{z(()=>a(e))})))})}function O(e,r={},a,s){for(var t in a){var f=a[t];r[t]!==f&&(a[t]==null?e.style.removeProperty(t):e.style.setProperty(t,f,s))}}function we(e,r,a,s){var t=e.__style;if(k||t!==r){var f=ge(r,s);(!k||f!==e.getAttribute("style"))&&(f==null?e.removeAttribute("style"):e.style.cssText=f),e.__style=r}else s&&(Array.isArray(s)?(O(e,a?.[0],s[0]),O(e,a?.[1],s[1],"important")):O(e,a,s));return s}function $(e,r,a=!1){if(e.multiple){if(r==null)return;if(!ee(r))return ae();for(var s of e.options)s.selected=r.includes(D(s));return}for(s of e.options){var t=D(s);if(F(t,r)){s.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function Te(e){var r=new MutationObserver(()=>{$(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),K(()=>{r.disconnect()})}function D(e){return"__value"in e?e.__value:e.value}const w=Symbol("class"),T=Symbol("style"),W=Symbol("is custom element"),Q=Symbol("is html");function Ie(e){if(k){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;N(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;N(e,"checked",null),e.checked=t}}};e.__on_r=a,ce(a),ye()}}function Ce(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function N(e,r,a,s){var t=X(e);k&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[fe]=a),a==null?e.removeAttribute(r):typeof a!="string"&&Z(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function Ne(e,r,a,s,t=!1){var f=X(e),i=f[W],_=!f[Q];let n=k&&i;n&&j(!1);var l=r||{},b=e.tagName==="OPTION";for(var g in r)g in a||(a[g]=null);a.class?a.class=Ae(a.class):(s||a[w])&&(a.class=null),a[T]&&(a.style??=null);var y=Z(e);for(const c in a){let u=a[c];if(b&&c==="value"&&u==null){e.value=e.__value="",l[c]=u;continue}if(c==="class"){var C=e.namespaceURI==="http://www.w3.org/1999/xhtml";Se(e,C,u,s,r?.[w],a[w]),l[c]=u,l[w]=a[w];continue}if(c==="style"){we(e,u,r?.[T],a[T]),l[c]=u,l[T]=a[T];continue}var A=l[c];if(!(u===A&&!(u===void 0&&e.hasAttribute(c)))){l[c]=u;var v=c[0]+c[1];if(v!=="$$")if(v==="on"){const d={},S="$$"+c;let o=c.slice(2);var L=ke(o);if(ve(o)&&(o=o.slice(0,-7),d.capture=!0),!L&&A){if(u!=null)continue;e.removeEventListener(o,l[S],d),l[S]=null}if(u!=null)if(L)e[`__${o}`]=u,_e([o]);else{let p=function(x){l[c].call(this,x)};l[S]=de(o,e,p,d)}else L&&(e[`__${o}`]=void 0)}else if(c==="style")N(e,c,u);else if(c==="autofocus")he(e,!!u);else if(!i&&(c==="__value"||c==="value"&&u!=null))e.value=e.__value=u;else if(c==="selected"&&b)Ce(e,u);else{var h=c;_||(h=be(h));var H=h==="defaultValue"||h==="defaultChecked";if(u==null&&!i&&!H)if(f[c]=null,h==="value"||h==="checked"){let d=e;const S=r===void 0;if(h==="value"){let o=d.defaultValue;d.removeAttribute(h),d.defaultValue=o,d.value=d.__value=S?o:null}else{let o=d.defaultChecked;d.removeAttribute(h),d.defaultChecked=o,d.checked=S?o:!1}}else e.removeAttribute(c);else H||y.includes(h)&&(i||typeof u!="string")?e[h]=u:typeof u!="function"&&N(e,h,u)}}}return n&&j(!0),l}function me(e,r,a=[],s=[],t,f=!1){re(a,s,i=>{var _=void 0,n={},l=e.nodeName==="SELECT",b=!1;if(U(()=>{var y=r(...i.map(se)),C=Ne(e,_,y,t,f);b&&l&&"value"in y&&$(e,y.value);for(let v of Object.getOwnPropertySymbols(n))y[v]||P(n[v]);for(let v of Object.getOwnPropertySymbols(y)){var A=y[v];v.description===te&&(!_||A!==_[v])&&(n[v]&&P(n[v]),n[v]=Y(()=>Ee(e,()=>A))),C[v]=A}_=C}),l){var g=e;z(()=>{$(g,_.value,!0),Te(g)})}b=!0})}function X(e){return e.__attributes??={[W]:e.nodeName.includes("-"),[Q]:e.namespaceURI===le}}var G=new Map;function Z(e){var r=G.get(e.nodeName);if(r)return r;G.set(e.nodeName,r=[]);for(var a,s=e,t=Element.prototype;t!==s;){a=ue(s);for(var f in a)a[f].set&&r.push(f);s=ie(s)}return r}function Pe(e,r,a=r){var s=oe(),t=new WeakSet;V(e,"input",f=>{var i=f?e.defaultValue:e.value;if(i=I(e)?m(i):i,a(i),E!==null&&t.add(E),s&&i!==(i=r())){var _=e.selectionStart,n=e.selectionEnd;e.value=i??"",n!==null&&(e.selectionStart=_,e.selectionEnd=Math.min(n,e.value.length))}}),(k&&e.defaultValue!==e.value||J(r)==null&&e.value)&&(a(I(e)?m(e.value):e.value),E!==null&&t.add(E)),B(()=>{var f=r();if(e===document.activeElement){var i=ne??E;if(t.has(i))return}I(e)&&f===m(e.value)||e.type==="date"&&!f&&!e.value||f!==e.value&&(e.value=f??"")})}const M=new Set;function $e(e,r,a,s,t=s){var f=a.getAttribute("type")==="checkbox",i=e;let _=!1;if(r!==null)for(var n of r)i=i[n]??=[];i.push(a),V(a,"change",()=>{var l=a.__value;f&&(l=R(i,l,a.checked)),t(l)},()=>t(f?[]:null)),B(()=>{var l=s();if(k&&a.defaultChecked!==a.checked){_=!0;return}f?(l=l||[],a.checked=l.includes(a.__value)):a.checked=F(a.__value,l)}),K(()=>{var l=i.indexOf(a);l!==-1&&i.splice(l,1)}),M.has(i)||(M.add(i),q(()=>{i.sort((l,b)=>l.compareDocumentPosition(b)===4?-1:1),M.delete(i)})),q(()=>{if(_){var l;if(f)l=R(i,l,a.checked);else{var b=i.find(g=>g.checked);l=b?.__value}t(l)}})}function Be(e,r,a=r){V(e,"change",s=>{var t=s?e.defaultChecked:e.checked;a(t)}),(k&&e.defaultChecked!==e.checked||J(r)==null)&&a(e.checked),B(()=>{var s=r();e.checked=!!s})}function R(e,r,a){for(var s=new Set,t=0;t<e.length;t+=1)e[t].checked&&s.add(e[t].__value);return a||s.delete(r),Array.from(s)}function I(e){var r=e.type;return r==="number"||r==="range"}function m(e){return e===""?null:+e}export{me as a,Pe as b,$e as c,Be as d,Ie as r};
