import{m as Y,ae as P,p as z,B as K,k as y,af as ee,ag as ae,ah as F,z as G,ai as re,g as se,aj as te,ak as le,R as B,al as ie,am as fe,an as ce,ao as ue,ap as oe,q as w,d as W,C as V,aq as ne,D as R}from"./lTDvGL6K.js";import{d as ve,i as de,f as _e,j as he,k as be,n as ke,l as ye,p as j}from"./HgQVWXPy.js";import{t as ge,c as Ae,s as Se}from"./Ck_VzoUI.js";function we(e,r){var a=void 0,s;Y(()=>{a!==(a=r())&&(s&&(P(s),s=null),a&&(s=z(()=>{K(()=>a(e))})))})}function O(e,r={},a,s){for(var t in a){var f=a[t];r[t]!==f&&(a[t]==null?e.style.removeProperty(t):e.style.setProperty(t,f,s))}}function Ee(e,r,a,s){var t=e.__style;if(y||t!==r){var f=ge(r,s);(!y||f!==e.getAttribute("style"))&&(f==null?e.removeAttribute("style"):e.style.cssText=f),e.__style=r}else s&&(Array.isArray(s)?(O(e,a?.[0],s[0]),O(e,a?.[1],s[1],"important")):O(e,a,s));return s}function $(e,r,a=!1){if(e.multiple){if(r==null)return;if(!ee(r))return ae();for(var s of e.options)s.selected=r.includes(D(s));return}for(s of e.options){var t=D(s);if(F(t,r)){s.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function Te(e){var r=new MutationObserver(()=>{$(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),G(()=>{r.disconnect()})}function D(e){return"__value"in e?e.__value:e.value}const E=Symbol("class"),T=Symbol("style"),J=Symbol("is custom element"),Q=Symbol("is html");function me(e){if(y){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;N(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;N(e,"checked",null),e.checked=t}}};e.__on_r=a,le(a),ve()}}function Ce(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function N(e,r,a,s){var t=X(e);y&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[ce]=a),a==null?e.removeAttribute(r):typeof a!="string"&&Z(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function Ne(e,r,a,s,t=!1){var f=X(e),i=f[J],_=!f[Q];let n=y&&i;n&&B(!1);var l=r||{},b=e.tagName==="OPTION";for(var g in r)g in a||(a[g]=null);a.class?a.class=Ae(a.class):(s||a[E])&&(a.class=null),a[T]&&(a.style??=null);var k=Z(e);for(const c in a){let u=a[c];if(b&&c==="value"&&u==null){e.value=e.__value="",l[c]=u;continue}if(c==="class"){var C=e.namespaceURI==="http://www.w3.org/1999/xhtml";Se(e,C,u,s,r?.[E],a[E]),l[c]=u,l[E]=a[E];continue}if(c==="style"){Ee(e,u,r?.[T],a[T]),l[c]=u,l[T]=a[T];continue}var A=l[c];if(!(u===A&&!(u===void 0&&e.hasAttribute(c)))){l[c]=u;var v=c[0]+c[1];if(v!=="$$")if(v==="on"){const d={},S="$$"+c;let o=c.slice(2);var L=ye(o);if(de(o)&&(o=o.slice(0,-7),d.capture=!0),!L&&A){if(u!=null)continue;e.removeEventListener(o,l[S],d),l[S]=null}if(u!=null)if(L)e[`__${o}`]=u,he([o]);else{let p=function(x){l[c].call(this,x)};l[S]=_e(o,e,p,d)}else L&&(e[`__${o}`]=void 0)}else if(c==="style")N(e,c,u);else if(c==="autofocus")be(e,!!u);else if(!i&&(c==="__value"||c==="value"&&u!=null))e.value=e.__value=u;else if(c==="selected"&&b)Ce(e,u);else{var h=c;_||(h=ke(h));var q=h==="defaultValue"||h==="defaultChecked";if(u==null&&!i&&!q)if(f[c]=null,h==="value"||h==="checked"){let d=e;const S=r===void 0;if(h==="value"){let o=d.defaultValue;d.removeAttribute(h),d.defaultValue=o,d.value=d.__value=S?o:null}else{let o=d.defaultChecked;d.removeAttribute(h),d.defaultChecked=o,d.checked=S?o:!1}}else e.removeAttribute(c);else q||k.includes(h)&&(i||typeof u!="string")?e[h]=u:typeof u!="function"&&N(e,h,u)}}}return n&&B(!0),l}function Ie(e,r,a=[],s=[],t,f=!1){re(a,s,i=>{var _=void 0,n={},l=e.nodeName==="SELECT",b=!1;if(Y(()=>{var k=r(...i.map(se)),C=Ne(e,_,k,t,f);b&&l&&"value"in k&&$(e,k.value);for(let v of Object.getOwnPropertySymbols(n))k[v]||P(n[v]);for(let v of Object.getOwnPropertySymbols(k)){var A=k[v];v.description===te&&(!_||A!==_[v])&&(n[v]&&P(n[v]),n[v]=z(()=>we(e,()=>A))),C[v]=A}_=C}),l){var g=e;K(()=>{$(g,_.value,!0),Te(g)})}b=!0})}function X(e){return e.__attributes??={[J]:e.nodeName.includes("-"),[Q]:e.namespaceURI===ie}}var H=new Map;function Z(e){var r=H.get(e.nodeName);if(r)return r;H.set(e.nodeName,r=[]);for(var a,s=e,t=Element.prototype;t!==s;){a=ue(s);for(var f in a)a[f].set&&r.push(f);s=fe(s)}return r}function Pe(e,r,a=r){var s=oe(),t=new WeakSet;j(e,"input",f=>{var i=f?e.defaultValue:e.value;if(i=m(e)?I(i):i,a(i),w!==null&&t.add(w),s&&i!==(i=r())){var _=e.selectionStart,n=e.selectionEnd;e.value=i??"",n!==null&&(e.selectionStart=_,e.selectionEnd=Math.min(n,e.value.length))}}),(y&&e.defaultValue!==e.value||W(r)==null&&e.value)&&(a(m(e)?I(e.value):e.value),w!==null&&t.add(w)),V(()=>{var f=r();if(e===document.activeElement){var i=ne??w;if(t.has(i))return}m(e)&&f===I(e.value)||e.type==="date"&&!f&&!e.value||f!==e.value&&(e.value=f??"")})}const M=new Set;function $e(e,r,a,s,t=s){var f=a.getAttribute("type")==="checkbox",i=e;let _=!1;if(r!==null)for(var n of r)i=i[n]??=[];i.push(a),j(a,"change",()=>{var l=a.__value;f&&(l=U(i,l,a.checked)),t(l)},()=>t(f?[]:null)),V(()=>{var l=s();if(y&&a.defaultChecked!==a.checked){_=!0;return}f?(l=l||[],a.checked=l.includes(a.__value)):a.checked=F(a.__value,l)}),G(()=>{var l=i.indexOf(a);l!==-1&&i.splice(l,1)}),M.has(i)||(M.add(i),R(()=>{i.sort((l,b)=>l.compareDocumentPosition(b)===4?-1:1),M.delete(i)})),R(()=>{if(_){var l;if(f)l=U(i,l,a.checked);else{var b=i.find(g=>g.checked);l=b?.__value}t(l)}})}function Ve(e,r,a=r){j(e,"change",s=>{var t=s?e.defaultChecked:e.checked;a(t)}),(y&&e.defaultChecked!==e.checked||W(r)==null)&&a(e.checked),V(()=>{var s=r();e.checked=!!s})}function U(e,r,a){for(var s=new Set,t=0;t<e.length;t+=1)e[t].checked&&s.add(e[t].__value);return a||s.delete(r),Array.from(s)}function m(e){var r=e.type;return r==="number"||r==="range"}function I(e){return e===""?null:+e}export{Ie as a,Pe as b,Ve as c,$e as d,me as r,N as s};
