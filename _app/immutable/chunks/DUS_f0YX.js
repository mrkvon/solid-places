import{s as V,i as Y,a as W,t as tt,m as T,e as j,b as z,n as et,c as at,u as ot,k as H,g as X,d as N,f as $,h as st,j as q,l as I}from"./CVgv9TCp.js";import{aa as nt,p as rt,f as U,a7 as k,a as O,b as it,h as Z,a6 as A,a8 as R,a5 as ct}from"./ZmOcAfe1.js";import"./DsnmJJEf.js";import"./B4oz0gRF.js";import{w as lt,d as pt,e as dt,b as B}from"./DXbKMHJn.js";import{e as ut,a as F,X as ft}from"./BPhQ1Ot-.js";import{i as mt}from"./g1iHHJON.js";import{a as E,s as ht}from"./FHFy0IG3.js";async function Wt(s){const{prop:n,defaultEl:i}=s;if(await Promise.all([V(1),nt]),n===void 0){i?.focus();return}const u=Y(n)?n(i):n;if(typeof u=="string"){const v=document.querySelector(u);if(!W(v))return;v.focus()}else W(u)&&u.focus()}const{name:L}=at("toast"),wt={closeDelay:5e3,type:"foreground",hover:"pause"};function yt(s){const n={...wt,...s},i=tt(n),{closeDelay:u,type:v,hover:g}=i,l=lt(new Map),b=t=>{const e={closeDelay:u.get(),type:v.get(),...t},a={content:X(),title:X(),description:X()},o=e.closeDelay===0?null:window.setTimeout(()=>{h(a.content)},e.closeDelay),c=()=>{const{createdAt:m,pauseDuration:P,closeDelay:C,pausedAt:_}=r;return C===0?0:_?100*(_-m-P)/C:100*(performance.now()-m-P)/C},r={id:a.content,ids:a,...e,timeout:o,createdAt:performance.now(),pauseDuration:0,getPercentage:c};return l.update(m=>(m.set(a.content,r),new Map(m))),r},h=t=>{l.update(e=>(e.delete(t),new Map(e)))},f=(t,e)=>{l.update(a=>{const o=a.get(t);return o?(a.set(t,{...o,data:e}),new Map(a)):a})},p=t=>{t.timeout!==null&&window.clearTimeout(t.timeout),t.pausedAt=performance.now()},w=t=>{const e=t.pausedAt??t.createdAt,a=e-t.createdAt-t.pauseDuration,o=t.closeDelay-a;t.timeout=window.setTimeout(()=>{h(t.id)},o),t.pauseDuration+=performance.now()-e,t.pausedAt=void 0},x=T(L("content"),{stores:l,returned:t=>e=>{const a=t.get(e);if(!a)return null;const{...o}=a;return{id:e,role:"alert","aria-describedby":o.ids.description,"aria-labelledby":o.ids.title,"aria-live":o.type==="foreground"?"assertive":"polite",tabindex:-1}},action:t=>{let e=et;return e=j(z(t,"pointerenter",a=>{N(a)||l.update(o=>{switch(g.get()){case"pause":{const c=o.get(t.id);if(!c||c.closeDelay===0)return o;p(c);break}case"pause-all":for(const[,c]of o)!c||c.closeDelay===0||p(c);break}return new Map(o)})}),z(t,"pointerleave",a=>{N(a)||l.update(o=>{switch(g.get()){case"pause":{const c=o.get(t.id);if(!c||c.closeDelay===0)return o;w(c);break}case"pause-all":for(const[,c]of o)!c||c.closeDelay===0||w(c);break}return new Map(o)})}),()=>{h(t.id)}),{destroy:e}}}),D=T(L("title"),{stores:l,returned:t=>e=>{const a=t.get(e);return a?{id:a.ids.title}:null}}),d=T(L("description"),{stores:l,returned:t=>e=>{const a=t.get(e);return a?{id:a.ids.description}:null}}),S=T(L("close"),{returned:()=>t=>({type:"button","data-id":t}),action:t=>{function e(){t.dataset.id&&h(t.dataset.id)}return{destroy:j(z(t,"click",()=>{e()}),z(t,"keydown",o=>{o.key!==H.ENTER&&o.key!==H.SPACE||(o.preventDefault(),e())}))}}}),y=pt(l,t=>Array.from(t.values()));return{elements:{content:x,title:D,description:d,close:S},states:{toasts:dt(y)},helpers:{addToast:b,removeToast:h,updateToast:f},actions:{portal:ot},options:i}}function vt(s){const n=s-1;return n*n*n+1}function gt(s,{from:n,to:i},u={}){var{delay:v=0,duration:g=r=>Math.sqrt(r)*120,easing:l=vt}=u,b=getComputedStyle(s),h=b.transform==="none"?"":b.transform,[f,p]=b.transformOrigin.split(" ").map(parseFloat);f/=s.clientWidth,p/=s.clientHeight;var w=xt(s),x=s.clientWidth/i.width/w,D=s.clientHeight/i.height/w,d=n.left+n.width*f,S=n.top+n.height*p,y=i.left+i.width*f,t=i.top+i.height*p,e=(d-y)*x,a=(S-t)*D,o=n.width/i.width,c=n.height/i.height;return{delay:v,duration:typeof g=="function"?g(Math.sqrt(e*e+a*a)):g,easing:l,css:(r,m)=>{var P=m*e,C=m*a,_=r+m*o,M=r+m*c;return`transform: ${h} translate(${P}px, ${C}px) scale(${_}, ${M});`}}}function xt(s){if("currentCSSZoom"in s)return s.currentCSSZoom;for(var n=s,i=1;n!==null;)i*=+getComputedStyle(n).zoom,n=n.parentElement;return i}var bt=(s=>(s.success="Success",s.error="Error",s.warning="Warning",s.info="Info",s))(bt||{});const{elements:{content:G,title:J,description:K,close:Q},helpers:Dt,states:{toasts:St},actions:{portal:kt}}=yt(),jt=Dt.addToast;var Ct=U("<div><div><h3> </h3> <div> </div></div> <button><!></button></div>"),$t=U('<div class="toast-container svelte-g6m1zn" data-testid="toast-container"></div>');function Ht(s,n){rt(n,!1);const[i,u]=ht(),v=()=>E(St,"$toasts",i),g=()=>E(G,"$content",i),l=()=>E(J,"$title",i),b=()=>E(K,"$description",i),h=()=>E(Q,"$close",i);mt();var f=$t();ut(f,13,v,({id:p,data:w})=>p,(p,w)=>{let x=()=>Z(w).id,D=()=>Z(w).data;var d=Ct();F(d,r=>({...r,class:"toast"}),[()=>g()(x())],void 0,"svelte-g6m1zn");var S=A(d),y=A(S);F(y,r=>({...r}),[()=>l()(x())],void 0,"svelte-g6m1zn");var t=A(y);k(y),$(y,r=>J?.(r));var e=R(y,2);F(e,r=>({...r}),[()=>b()(x())],void 0,"svelte-g6m1zn");var a=A(e,!0);k(e),$(e,r=>K?.(r)),k(S);var o=R(S,2);F(o,r=>({...r,"aria-label":"close notification"}),[()=>h()(x())],void 0,"svelte-g6m1zn");var c=A(o);ft(c,{"aria-hidden":"true"}),k(o),$(o,r=>Q?.(r)),k(d),$(d,r=>G?.(r)),ct(()=>{B(t,`${D().type??""}: ${D().title??""}`),B(a,D().description)}),st(d,()=>gt,()=>({duration:300})),q(1,d,()=>I,()=>({duration:200})),q(2,d,()=>I,()=>({duration:200})),O(p,d)}),k(f),$(f,p=>kt?.(p)),O(s,f),it(),u()}const At={type:"Schema",shapes:[{id:"https://example.com/FoafProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Define a person's name."}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/img",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Photo link but in string form"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/knows",valueExpr:"https://example.com/FoafProfile",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of WebIds for all the people this user knows."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Et={type:{"@id":"@type","@isCollection":!0},Person:{"@id":"http://xmlns.com/foaf/0.1/Person","@context":{type:{"@id":"@type","@isCollection":!0},name:{"@id":"http://xmlns.com/foaf/0.1/name","@type":"http://www.w3.org/2001/XMLSchema#string"},img:{"@id":"http://xmlns.com/foaf/0.1/img","@type":"http://www.w3.org/2001/XMLSchema#string"},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@isCollection":!0}}},name:{"@id":"http://xmlns.com/foaf/0.1/name","@type":"http://www.w3.org/2001/XMLSchema#string"},img:{"@id":"http://xmlns.com/foaf/0.1/img","@type":"http://www.w3.org/2001/XMLSchema#string"},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@isCollection":!0}},Nt={schema:At,shape:"https://example.com/FoafProfile",context:Et};export{Nt as F,bt as T,jt as a,Ht as b,Wt as h};
