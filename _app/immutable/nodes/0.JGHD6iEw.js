import"../chunks/DsnmJJEf.js";import{l as Zt,m as en,aa as He,p as Y,ab as re,a4 as X,z as pe,a as A,b as J,R as tn,f as Ee,a8 as Z,a6 as F,n as At,t as nn,a7 as Q,F as rn,a5 as sn,h as $t,ac as an,B as on,a3 as un}from"../chunks/B8Aoszw1.js";import{w as N,d as Le,c as se,i as Ct,b as ln,f as cn,o as Ft,a as dn}from"../chunks/v_5uegaS.js";import{h as fn,F as hn,b as gn}from"../chunks/DLesLHD-.js";import{s as me,r as ve,i as gt,p as pn}from"../chunks/BBaN-TA8.js";import{w as B,F as mn,t as Re,p as pt,G as mt,m as j,v as ue,H as vt,B as yt,a as h,n as We,e as ge,b as P,I as bt,k as ee,A as vn,r as $e,c as yn,S as lt,J as q,u as bn,K as le,s as Se,M as wt,N as De,C as Qe,D as wn,O as Pn,P as On,Q as Tn,q as je,R as it,o as Qt,T as ot,f as ze,L as En}from"../chunks/C1_8t2Gq.js";import{I as ye,r as Mn,B as In,d as kn,a as Xe,S as Kt,h as Rt,Q as _n,n as z,m as Pt,R as Dn,f as Sn,g as Ot,j as ce,k as xn,l as An,o as $n,p as Cn,q as Tt,t as Et,u as Fn,v as Mt,w as It,x as Qn,y as Kn}from"../chunks/ClX5RZE4.js";import{b as Rn}from"../chunks/opyhTyj1.js";import{a as Ke,s as qt}from"../chunks/DoVozA40.js";import{h as qn,i as Nn,b as Nt,n as Bn}from"../chunks/CyzmgiJC.js";import"../chunks/DUDhBhlh.js";import{i as Hn}from"../chunks/D-_nZ1wF.js";function Ln(e,t,n,s,a){Zt&&en();var u=t.$$slots?.[n],o=!1;u===!0&&(u=t.children,o=!0),u===void 0||u(e,o?()=>s:s)}function Wn(e,t){let n=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const u=t[s].x,o=t[s].y,d=t[a].x,T=t[a].y;o>e.y!=T>e.y&&e.x<(d-u)*(e.y-o)/(T-o)+u&&(n=!n)}return n}function Gn(e,t){return t?Wn({x:e.clientX,y:e.clientY},t):!1}const Un={ltr:[...lt,ee.ARROW_RIGHT]},jn={ltr:[ee.ARROW_LEFT]},kt=["menu","trigger"],zn={arrowSize:8,positioning:{placement:"bottom"},preventScroll:!0,escapeBehavior:"close",closeOnOutsideClick:!0,portal:"body",loop:!1,dir:"ltr",defaultOpen:!1,typeahead:!0,closeOnItemClick:!0,onOutsideClick:void 0,preventTextSelectionOverflow:!0};function Xn(e){const{name:t,selector:n}=yn(e.selector),{preventScroll:s,arrowSize:a,positioning:u,escapeBehavior:o,closeOnOutsideClick:d,portal:T,forceVisible:S,typeahead:x,loop:H,closeFocus:ae,disableFocusFirstItem:te,closeOnItemClick:k,onOutsideClick:$,preventTextSelectionOverflow:L}=e.rootOptions,O=e.rootOpen,V=e.rootActiveTrigger,R=e.nextFocusable,ne=e.prevFocusable,K=B.writable(!1),be=B(N(0)),de=B(N(null)),Me=B(N("right")),Ie=B(N(null)),W=B(Le([Me,de],([r,c])=>i=>r===c?.side&&Gn(i,c?.area))),{typed:ie,handleTypeaheadSearch:we}=mn(),oe=Re({...pt(kt),...e.ids}),xe=mt({open:O,forceVisible:S,activeTrigger:V}),fe=j(t(),{stores:[xe,O,V,T,oe.menu,oe.trigger],returned:([r,c,i,l,g,_])=>({role:"menu",hidden:r?void 0:!0,style:r?void 0:$e({display:"none"}),id:g,"aria-labelledby":_,"data-state":c&&i?"open":"closed","data-portal":vn(l),tabindex:-1}),action:r=>{let c=We;const i=ue([xe,V,u,d,T],([g,_,G,M,p])=>{c(),!(!g||!_)&&He().then(()=>{c(),Fe(r,n),c=vt(r,{anchorElement:_,open:O,options:{floating:G,modal:{closeOnInteractOutside:M,shouldCloseOnInteractOutside:y=>($.get()?.(y),!(h(_)&&_.contains(y.target))),onClose:()=>O.set(!1)},portal:yt(r,p),escapeKeydown:{behaviorType:o},preventTextSelectionOverflow:{enabled:L}}}).destroy})}),l=ge(P(r,"keydown",g=>{const _=g.target,G=g.currentTarget;if(!h(_)||!h(G)||!(_.closest('[role="menu"]')===G))return;if(bt.includes(g.key)&&Dt(g,H.get()??!1),g.key===ee.TAB){g.preventDefault(),O.set(!1),_t(g,R,ne);return}const p=g.key.length===1;!(g.ctrlKey||g.altKey||g.metaKey)&&p&&x.get()===!0&&we(g.key,Te(G))}));return{destroy(){i(),l(),c()}}}}),Pe=j(t("trigger"),{stores:[O,oe.menu,oe.trigger],returned:([r,c,i])=>({"aria-controls":c,"aria-expanded":r,"data-state":r?"open":"closed",id:i,tabindex:0}),action:r=>(Ge(r),V.update(i=>i||r),{destroy:ge(P(r,"click",i=>{const l=O.get(),g=i.currentTarget;h(g)&&(ct(g),l||i.preventDefault())}),P(r,"keydown",i=>{const l=i.currentTarget;if(!h(l)||!(lt.includes(i.key)||i.key===ee.ARROW_DOWN))return;i.preventDefault(),ct(l);const g=l.getAttribute("aria-controls");if(!g)return;const _=document.getElementById(g);if(!_)return;const G=Te(_);G.length&&q(G[0])}))})}),Ae=j(t("arrow"),{stores:a,returned:r=>({"data-arrow":!0,style:$e({position:"absolute",width:`var(--arrow-size, ${r}px)`,height:`var(--arrow-size, ${r}px)`})})}),Ve=j(t("overlay"),{stores:[xe],returned:([r])=>({hidden:r?void 0:!0,tabindex:-1,style:$e({display:r?void 0:"none"}),"aria-hidden":"true","data-state":Yn(r)}),action:r=>{const c=ue([T],([i])=>{if(i===null)return We;const l=yt(r,i);return l===null?We:bn(r,l).destroy});return{destroy(){c()}}}}),qe=j(t("item"),{returned:()=>({role:"menuitem",tabindex:-1,"data-orientation":"vertical"}),action:r=>(Fe(r,n),Ge(r),{destroy:ge(P(r,"pointerdown",i=>{const l=i.currentTarget;if(h(l)&&le(l)){i.preventDefault();return}}),P(r,"click",i=>{const l=i.currentTarget;if(h(l)){if(le(l)){i.preventDefault();return}if(i.defaultPrevented){q(l);return}k.get()&&Se(1).then(()=>{O.set(!1)})}}),P(r,"keydown",i=>{rt(i)}),P(r,"pointermove",i=>{tt(i)}),P(r,"pointerleave",i=>{nt(i)}),P(r,"focusin",i=>{Ne(i)}),P(r,"focusout",i=>{Ze(i)}))})}),Oe=j(t("group"),{returned:()=>r=>({role:"group","aria-labelledby":r})}),Ye=j(t("group-label"),{returned:()=>r=>({id:r})}),Je={defaultChecked:!1,disabled:!1},Ht=r=>{const c={...Je,...r},i=c.checked??N(c.defaultChecked??null),l=je(i,c.onCheckedChange),g=N(c.disabled),_=j(t("checkbox-item"),{stores:[l,g],returned:([p,y])=>({role:"menuitemcheckbox",tabindex:-1,"data-orientation":"vertical","aria-checked":st(p)?"mixed":p?"true":"false","data-disabled":it(y),"data-state":Xt(p)}),action:p=>(Fe(p,n),Ge(p),{destroy:ge(P(p,"pointerdown",v=>{const b=v.currentTarget;if(h(b)&&le(b)){v.preventDefault();return}}),P(p,"click",v=>{const b=v.currentTarget;if(h(b)){if(le(b)){v.preventDefault();return}if(v.defaultPrevented){q(b);return}l.update(he=>st(he)?!0:!he),k.get()&&He().then(()=>{O.set(!1)})}}),P(p,"keydown",v=>{rt(v)}),P(p,"pointermove",v=>{const b=v.currentTarget;if(h(b)){if(le(b)){et(v);return}tt(v,b)}}),P(p,"pointerleave",v=>{nt(v)}),P(p,"focusin",v=>{Ne(v)}),P(p,"focusout",v=>{Ze(v)}))})}),G=Le(l,p=>p===!0),M=Le(l,p=>p==="indeterminate");return{elements:{checkboxItem:_},states:{checked:l},helpers:{isChecked:G,isIndeterminate:M},options:{disabled:g}}},Lt=(r={})=>{const c=r.value??N(r.defaultValue??null),i=je(c,r.onValueChange),l=j(t("radio-group"),{returned:()=>({role:"group"})}),g={disabled:!1},_=j(t("radio-item"),{stores:[i],returned:([M])=>p=>{const{value:y,disabled:v}={...g,...p},b=M===y;return{disabled:v,role:"menuitemradio","data-state":b?"checked":"unchecked","aria-checked":b,"data-disabled":it(v),"data-value":y,"data-orientation":"vertical",tabindex:-1}},action:M=>(Fe(M,n),{destroy:ge(P(M,"pointerdown",y=>{const v=y.currentTarget;if(!h(v))return;const b=M.dataset.value;if(M.dataset.disabled||b===void 0){y.preventDefault();return}}),P(M,"click",y=>{const v=y.currentTarget;if(!h(v))return;const b=M.dataset.value;if(M.dataset.disabled||b===void 0){y.preventDefault();return}if(y.defaultPrevented){if(!h(v))return;q(v);return}i.set(b),k.get()&&He().then(()=>{O.set(!1)})}),P(M,"keydown",y=>{rt(y)}),P(M,"pointermove",y=>{const v=y.currentTarget;if(!h(v))return;const b=M.dataset.value;if(M.dataset.disabled||b===void 0){et(y);return}tt(y,v)}),P(M,"pointerleave",y=>{nt(y)}),P(M,"focusin",y=>{Ne(y)}),P(M,"focusout",y=>{Ze(y)}))})}),G=Le(i,M=>p=>M===p);return{elements:{radioGroup:l,radioItem:_},states:{value:i},helpers:{isChecked:G}}},{elements:{root:Wt}}=tr({orientation:"horizontal"}),Gt={...zn,disabled:!1,positioning:{placement:"right-start",gutter:8}},Ut=r=>{const c={...Gt,...r},i=c.open??N(!1),l=je(i,c?.onOpenChange),g=Re(Qt(c,"ids")),{positioning:_,arrowSize:G,disabled:M}=g,p=B(N(null)),y=B(N(null)),v=B(N(0)),b=Re({...pt(kt),...c.ids});wt(()=>{const w=document.getElementById(b.trigger.get());w&&p.set(w)});const he=mt({open:l,forceVisible:S,activeTrigger:p}),Vt=j(t("submenu"),{stores:[he,l,p,b.menu,b.trigger],returned:([w,C,U,m,f])=>({role:"menu",hidden:w?void 0:!0,style:w?void 0:$e({display:"none"}),id:m,"aria-labelledby":f,"data-state":C&&U?"open":"closed","data-id":m,tabindex:-1}),action:w=>{let C=We;const U=ue([he,_],([f,E])=>{if(C(),!f)return;const I=p.get();I&&He().then(()=>{C();const D=ft(I);C=vt(w,{anchorElement:I,open:l,options:{floating:E,portal:h(D)?D:void 0,modal:null,focusTrap:null,escapeKeydown:null,preventTextSelectionOverflow:null}}).destroy})}),m=ge(P(w,"keydown",f=>{if(f.key===ee.ESCAPE)return;const E=f.target,I=f.currentTarget;if(!h(E)||!h(I)||!(E.closest('[role="menu"]')===I))return;if(bt.includes(f.key)){f.stopImmediatePropagation(),Dt(f,H.get()??!1);return}const ke=jn.ltr.includes(f.key),_e=f.ctrlKey||f.altKey||f.metaKey,Be=f.key.length===1;if(ke){const ht=p.get();f.preventDefault(),l.update(()=>(ht&&q(ht),!1));return}if(f.key===ee.TAB){f.preventDefault(),O.set(!1),_t(f,R,ne);return}!_e&&Be&&x.get()===!0&&we(f.key,Te(I))}),P(w,"pointermove",f=>{zt(f)}),P(w,"focusout",f=>{const E=p.get();if(K.get()){const I=f.target,D=document.getElementById(b.menu.get());if(!h(D)||!h(I))return;!D.contains(I)&&I!==E&&l.set(!1)}else{const I=f.currentTarget,D=f.relatedTarget;if(!h(D)||!h(I))return;!I.contains(D)&&D!==E&&l.set(!1)}}));return{destroy(){U(),C(),m()}}}}),Yt=j(t("subtrigger"),{stores:[l,M,b.menu,b.trigger],returned:([w,C,U,m])=>({role:"menuitem",id:m,tabindex:-1,"aria-controls":U,"aria-expanded":w,"data-state":w?"open":"closed","data-disabled":it(C),"aria-haspopop":"menu"}),action:w=>{Fe(w,n),Ge(w),p.update(m=>m||w);const C=()=>{ut(y),window.clearTimeout(v.get()),de.set(null)},U=ge(P(w,"click",m=>{if(m.defaultPrevented)return;const f=m.currentTarget;!h(f)||le(f)||(q(f),l.get()||l.update(E=>E||(p.set(f),!E)))}),P(w,"keydown",m=>{const f=ie.get(),E=m.currentTarget;if(!(!h(E)||le(E)||f.length>0&&m.key===ee.SPACE)&&Un.ltr.includes(m.key)){if(!l.get()){E.click(),m.preventDefault();return}const D=E.getAttribute("aria-controls");if(!D)return;const ke=document.getElementById(D);if(!h(ke))return;const _e=Te(ke)[0];q(_e)}}),P(w,"pointermove",m=>{if(!Ce(m)||(dt(m),m.defaultPrevented))return;const f=m.currentTarget;if(!h(f))return;Vn(b.menu.get())||q(f);const E=y.get();!l.get()&&!E&&!le(f)&&y.set(window.setTimeout(()=>{l.update(()=>(p.set(f),!0)),ut(y)},100))}),P(w,"pointerleave",m=>{if(!Ce(m))return;ut(y);const f=document.getElementById(b.menu.get()),E=f?.getBoundingClientRect();if(E){const I=f?.dataset.side,D=I==="right",ke=D?-5:5,_e=E[D?"left":"right"],Be=E[D?"right":"left"];de.set({area:[{x:m.clientX+ke,y:m.clientY},{x:_e,y:E.top},{x:Be,y:E.top},{x:Be,y:E.bottom},{x:_e,y:E.bottom}],side:I}),window.clearTimeout(v.get()),v.set(window.setTimeout(()=>{de.set(null)},300))}else{if(jt(m),m.defaultPrevented)return;de.set(null)}}),P(w,"focusout",m=>{const f=m.currentTarget;if(!h(f))return;De(f);const E=m.relatedTarget;if(!h(E))return;const I=f.getAttribute("aria-controls");if(!I)return;const D=document.getElementById(I);D&&!D.contains(E)&&l.set(!1)}),P(w,"focusin",m=>{Ne(m)}));return{destroy(){C(),U()}}}}),Jt=j(t("subarrow"),{stores:G,returned:w=>({"data-arrow":!0,style:$e({position:"absolute",width:`var(--arrow-size, ${w}px)`,height:`var(--arrow-size, ${w}px)`})})});return ue([O],([w])=>{w||(p.set(null),l.set(!1))}),ue([de],([w])=>{!Qe||w||window.clearTimeout(v.get())}),ue([l],([w])=>{if(Qe&&(w&&K.get()&&Se(1).then(()=>{const C=document.getElementById(b.menu.get());if(!C)return;const U=Te(C);U.length&&q(U[0])}),!w)){const C=Ie.get(),U=document.getElementById(b.trigger.get());if(C&&Se(1).then(()=>{const m=document.getElementById(b.menu.get());m&&m.contains(C)&&De(C)}),!U||document.activeElement===U)return;De(U)}}),{ids:b,elements:{subTrigger:Yt,subMenu:Vt,subArrow:Jt},states:{subOpen:l},options:g}};wt(()=>{const r=document.getElementById(oe.trigger.get());h(r)&&O.get()&&V.set(r);const c=[],i=()=>K.set(!1),l=()=>{K.set(!0),c.push(ge(ot(document,"pointerdown",i,{capture:!0,once:!0}),ot(document,"pointermove",i,{capture:!0,once:!0})))};return c.push(ot(document,"keydown",l,{capture:!0})),()=>{c.forEach(g=>g())}}),ue([O,Ie],([r,c])=>{!r&&c&&De(c)}),ue([O],([r])=>{!Qe||r||fn({prop:ae.get(),defaultEl:V.get()})},{skipFirstRun:!0}),ue([O,s],([r,c])=>{if(!Qe)return;const i=[];return r&&c&&i.push(wn()),Se(1).then(()=>{const l=document.getElementById(oe.menu.get());if(l&&r&&K.get()){if(te.get()){q(l);return}const g=Te(l);if(!g.length)return;q(g[0])}}),()=>{i.forEach(l=>l())}});function ct(r){O.update(c=>{const i=!c;return i&&(R.set(Pn(r)),ne.set(On(r)),V.set(r)),i})}function Ne(r){const c=r.currentTarget;if(!h(c))return;const i=Ie.get();i&&De(i),Tn(c),Ie.set(c)}function Ze(r){const c=r.currentTarget;h(c)&&De(c)}function dt(r){at(r)&&r.preventDefault()}function et(r){if(at(r))return;const c=r.target;if(!h(c))return;const i=ft(c);i&&q(i)}function jt(r){at(r)&&r.preventDefault()}function zt(r){if(!Ce(r))return;const c=r.target,i=r.currentTarget;if(!h(i)||!h(c))return;const l=be.get(),g=l!==r.clientX;if(i.contains(c)&&g){const _=r.clientX>l?"right":"left";Me.set(_),be.set(r.clientX)}}function tt(r,c=null){if(!Ce(r)||(dt(r),r.defaultPrevented))return;if(c){q(c);return}const i=r.currentTarget;h(i)&&q(i)}function nt(r){Ce(r)&&et(r)}function rt(r){if(ie.get().length>0&&r.key===ee.SPACE){r.preventDefault();return}if(lt.includes(r.key)){r.preventDefault();const l=r.currentTarget;if(!h(l))return;l.click()}}function st(r){return r==="indeterminate"}function Xt(r){return st(r)?"indeterminate":r?"checked":"unchecked"}function at(r){return W.get()(r)}function ft(r){const c=r.closest('[role="menu"]');return h(c)?c:null}return{elements:{trigger:Pe,menu:fe,overlay:Ve,item:qe,group:Oe,groupLabel:Ye,arrow:Ae,separator:Wt},builders:{createCheckboxItem:Ht,createSubmenu:Ut,createMenuRadioGroup:Lt},states:{open:O},helpers:{handleTypeaheadSearch:we},ids:oe,options:e.rootOptions}}function _t(e,t,n){if(e.shiftKey){const s=n.get();s&&(e.preventDefault(),Se(1).then(()=>s.focus()),n.set(null))}else{const s=t.get();s&&(e.preventDefault(),Se(1).then(()=>s.focus()),t.set(null))}}function Te(e){return Array.from(e.querySelectorAll(`[data-melt-menu-id="${e.id}"]`)).filter(t=>h(t))}function Ge(e){!e||!le(e)||(e.setAttribute("data-disabled",""),e.setAttribute("aria-disabled","true"))}function ut(e){if(!Qe)return;const t=e.get();t&&(window.clearTimeout(t),e.set(null))}function Ce(e){return e.pointerType==="mouse"}function Fe(e,t){if(!e)return;const n=e.closest(`${t()}, ${t("submenu")}`);h(n)&&e.setAttribute("data-melt-menu-id",n.id)}function Dt(e,t){e.preventDefault();const n=document.activeElement,s=e.currentTarget;if(!h(n)||!h(s))return;const a=Te(s);if(!a.length)return;const u=a.filter(T=>!(T.hasAttribute("data-disabled")||T.getAttribute("disabled")==="true")),o=u.indexOf(n);let d;switch(e.key){case ee.ARROW_DOWN:t?d=o<u.length-1?o+1:0:d=o<u.length-1?o+1:o;break;case ee.ARROW_UP:t?d=o>0?o-1:u.length-1:d=o<0?u.length-1:o>0?o-1:0;break;case ee.HOME:d=0;break;case ee.END:d=u.length-1;break;default:return}q(u[d])}function Vn(e){const t=document.activeElement;if(!h(t))return!1;const n=t.closest(`[data-id="${e}"]`);return h(n)}function Yn(e){return e?"open":"closed"}const Jn={arrowSize:8,positioning:{placement:"bottom"},preventScroll:!0,escapeBehavior:"close",closeOnOutsideClick:!0,portal:"body",loop:!1,dir:"ltr",defaultOpen:!1,forceVisible:!1,typeahead:!0,closeFocus:void 0,disableFocusFirstItem:!1,closeOnItemClick:!0,onOutsideClick:void 0,preventTextSelectionOverflow:!0};function Zn(e){const t={...Jn,...e},n=Re(Qt(t,"ids")),s=t.open??N(t.defaultOpen),a=je(s,t?.onOpenChange),u=B(N(null)),o=B(N(null)),d=B(N(null)),{elements:T,builders:S,ids:x,states:H,options:ae}=Xn({rootOptions:n,rootOpen:a,rootActiveTrigger:B(u),nextFocusable:B(o),prevFocusable:B(d),selector:"dropdown-menu",ids:t.ids});return{ids:x,elements:T,states:H,builders:S,options:ae}}const er={orientation:"horizontal",decorative:!1},tr=e=>{const t={...er,...e},n=Re(t),{orientation:s,decorative:a}=n;return{elements:{root:j("separator",{stores:[s,a],returned:([o,d])=>({role:d?"none":"separator","aria-orientation":o==="vertical"?o:void 0,"aria-hidden":d,"data-orientation":o})})},options:n}};function nr(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M18 20a6 6 0 0 0-12 0"}],["circle",{cx:"12",cy:"10",r:"4"}],["circle",{cx:"12",cy:"12",r:"10"}]];ye(e,me({name:"circle-user-round"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=X(o);se(d,()=>t.children??pe),A(a,o)},$$slots:{default:!0}})),J()}function rr(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}]];ye(e,me({name:"house"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=X(o);se(d,()=>t.children??pe),A(a,o)},$$slots:{default:!0}})),J()}function sr(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M3 12h.01"}],["path",{d:"M3 18h.01"}],["path",{d:"M3 6h.01"}],["path",{d:"M8 12h13"}],["path",{d:"M8 18h13"}],["path",{d:"M8 6h13"}]];ye(e,me({name:"list"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=X(o);se(d,()=>t.children??pe),A(a,o)},$$slots:{default:!0}})),J()}function ar(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m10 17 5-5-5-5"}],["path",{d:"M15 12H3"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}]];ye(e,me({name:"log-in"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=X(o);se(d,()=>t.children??pe),A(a,o)},$$slots:{default:!0}})),J()}function ir(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];ye(e,me({name:"log-out"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=X(o);se(d,()=>t.children??pe),A(a,o)},$$slots:{default:!0}})),J()}function or(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]];ye(e,me({name:"map"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=X(o);se(d,()=>t.children??pe),A(a,o)},$$slots:{default:!0}})),J()}function ur(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];ye(e,me({name:"plus"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=X(o);se(d,()=>t.children??pe),A(a,o)},$$slots:{default:!0}})),J()}function lr(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M12 3v12"}],["path",{d:"m17 8-5-5-5 5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}]];ye(e,me({name:"upload"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=X(o);se(d,()=>t.children??pe),A(a,o)},$$slots:{default:!0}})),J()}var cr=Ee('<header class="svelte-13sunvs">Select Provider</header> <form class="svelte-13sunvs"><input type="url" required placeholder="Identity Provider"/> <!></form>',1);function dr(e,t){Y(t,!0);let n=tn({provider:""});function s(T){T.preventDefault(),t.onsave(n)}var a=cr(),u=Z(X(a),2),o=F(u);Mn(o);var d=Z(o,2);In(d,{as:"button",variant:"primary",type:"submit",children:(T,S)=>{At();var x=nn("Sign In");A(T,x)},$$slots:{default:!0}}),Q(u),Ct("submit",u,s),kn(o,()=>n.provider,T=>n.provider=T),A(e,a),J()}var fr=Ee("<!> <div><div> </div> <div><!> Sign out</div></div>",1);function hr(e,t){Y(t,!0);const[n,s]=qt(),a=()=>Ke(Nt,"$session",n),u=()=>Ke(ae,"$profile",n),o=()=>Ke(T,"$menu",n),d=()=>Ke(S,"$item",n),{elements:{menu:T,item:S,trigger:x}}=Zn(),H=async()=>{await Bn(),globalThis.location.href="/"};qn(a().info.webId);const ae=Nn(hn,a().info.webId),te=an(()=>u()?.name);var k=fr(),$=X(k);se($,()=>t.children,()=>({trigger:x}));var L=Z($,2);Xe(L,()=>({...o(),class:"menu","aria-label":"User menu"}),void 0,void 0,"svelte-1q3aoyo");var O=F(L);Xe(O,()=>({...d()}),void 0,void 0,"svelte-1q3aoyo");var V=F(O,!0);Q(O),ze(O,K=>S?.(K));var R=Z(O,2);Xe(R,()=>({...d()}),void 0,void 0,"svelte-1q3aoyo");var ne=F(R);ir(ne,{"aria-hidden":"true"}),At(),Q(R),ze(R,K=>S?.(K)),rn(()=>Ct("m-click",R,H)),Q(L),ze(L,K=>T?.(K)),sn(()=>ln(V,$t(te))),A(e,k),J(),s()}var gr=Ee('<button disabled class="loading svelte-1fgulgb"><!></button>'),pr=Ee("<button><!></button>"),mr=Ee('<button aria-label="Sign In" title="Sign In" class="svelte-1fgulgb"><!></button>'),vr=Ee('<nav class="header svelte-1fgulgb"><a href="/" aria-label="Home" title="Home" class="svelte-1fgulgb"><!></a> <a href="map" aria-label="Map" title="Map" class="svelte-1fgulgb"><!></a> <a href="list" aria-label="List" title="List" class="svelte-1fgulgb"><!></a> <div class="spacer svelte-1fgulgb"></div> <a href="add" aria-label="Add Place" title="Add Place" class="svelte-1fgulgb"><!></a> <a href="import" aria-label="Import from GPX" title="Import from GPX" class="svelte-1fgulgb"><!></a> <!></nav> <dialog class="svelte-1fgulgb"><!></dialog>',1);function yr(e,t){Y(t,!0);const[n,s]=qt(),a=()=>Ke(Nt,"$session",n),u=async W=>{await a().login({oidcIssuer:W,redirectUrl:globalThis.location.href})};let o=un(!1);Ft(async()=>{try{await a().handleIncomingRedirect({restorePreviousSession:!0})}finally{on(o,!0)}});let d;const T=()=>{d.showModal()};var S=vr(),x=X(S),H=F(x),ae=F(H);rr(ae,{"aria-hidden":"true"}),Q(H);var te=Z(H,2),k=F(te);or(k,{"aria-hidden":"true"}),Q(te);var $=Z(te,2),L=F($);sr(L,{"aria-hidden":"true"}),Q($);var O=Z($,4),V=F(O);ur(V,{"aria-hidden":"true"}),Q(O);var R=Z(O,2),ne=F(R);lr(ne,{"aria-hidden":"true"}),Q(R);var K=Z(R,2);{var be=W=>{var ie=gr(),we=F(ie);En(we,{"aria-hidden":"true",class:"spinning"}),Q(ie),A(W,ie)},de=W=>{var ie=re(),we=X(ie);{var oe=fe=>{hr(fe,{children:(Ae,Ve)=>{let qe=()=>Ve?.().trigger;var Oe=pr();Xe(Oe,()=>({...qe(),"aria-label":"User Menu",title:"User Menu"}),void 0,void 0,"svelte-1fgulgb");var Ye=F(Oe);nr(Ye,{"aria-hidden":"true"}),Q(Oe),ze(Oe,Je=>qe()?.(Je)),A(Ae,Oe)},$$slots:{default:!0}})},xe=fe=>{var Pe=mr();Pe.__click=T;var Ae=F(Pe);ar(Ae,{"aria-hidden":"true"}),Q(Pe),A(fe,Pe)};gt(we,fe=>{a().info.isLoggedIn?fe(oe):fe(xe,!1)},!0)}A(W,ie)};gt(K,W=>{$t(o)?W(de,!1):W(be)})}Q(x);var Me=Z(x,2),Ie=F(Me);dr(Ie,{onsave:W=>u(W.provider)}),Q(Me),Rn(Me,W=>d=W,()=>d),A(e,S),J(),s()}cn(["click"]);var br=class extends Kt{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const s=t.queryKey,a=t.queryHash??Rt(s,t);let u=this.get(a);return u||(u=new _n({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Pt(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Pt(e,n)):t}notify(e){z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){z.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){z.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},wr=class extends Dn{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Pr(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=Sn({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,u)=>{this.#r({type:"failed",failureCount:a,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",s=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#t.config.onMutate?.(e,this);const u=await this.options.onMutate?.(e);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:s})}const a=await this.#n.start();return await this.#t.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#r({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#r({type:"error",error:a})}}finally{this.#t.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),z.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Pr(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Or=class extends Kt{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const s=new wr({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){this.#e.add(e);const t=Ue(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Ue(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ue(e);if(typeof t=="string"){const s=this.#t.get(t)?.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){const t=Ue(e);return typeof t=="string"?this.#t.get(t)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){z.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Ot(t,n))}findAll(e={}){return this.getAll().filter(t=>Ot(e,t))}notify(e){z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return z.batch(()=>Promise.all(e.map(t=>t.continue().catch(ce))))}};function Ue(e){return e.options.scope?.id}function St(e){return{onFetch:(t,n)=>{const s=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},T=0;const S=async()=>{let x=!1;const H=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},ae=xn(t.options,t.fetchOptions),te=async(k,$,L)=>{if(x)return Promise.reject();if($==null&&k.pages.length)return Promise.resolve(k);const V=(()=>{const be={client:t.client,queryKey:t.queryKey,pageParam:$,direction:L?"backward":"forward",meta:t.options.meta};return H(be),be})(),R=await ae(V),{maxPages:ne}=t.options,K=L?An:$n;return{pages:K(k.pages,R,ne),pageParams:K(k.pageParams,$,ne)}};if(a&&u.length){const k=a==="backward",$=k?Tr:xt,L={pages:u,pageParams:o},O=$(s,L);d=await te(L,O,k)}else{const k=e??u.length;do{const $=T===0?o[0]??s.initialPageParam:xt(s,d);if(T>0&&$==null)break;d=await te(d,$),T++}while(T<k)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(S,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=S}}}function xt(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Tr(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Bt=class{#e;#t;#n;#r;#a;#s;#i;#o;constructor(e={}){this.#e=e.queryCache||new br,this.#t=e.mutationCache||new Or,this.#n=e.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=Cn.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Tt.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Et(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(s.queryHash)?.state.data,o=Fn(t,u);if(o!==void 0)return this.#e.build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return z.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;z.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return z.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=z.batch(()=>this.#e.findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(ce).catch(ce)}invalidateQueries(e,t={}){return z.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=z.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let u=a.fetch(void 0,n);return n.throwOnError||(u=u.catch(ce)),a.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(ce)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Et(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ce).catch(ce)}fetchInfiniteQuery(e){return e.behavior=St(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ce).catch(ce)}ensureInfiniteQueryData(e){return e.behavior=St(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Tt.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Mt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(s=>{It(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){this.#a.set(Mt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#a.values()],n={};return t.forEach(s=>{It(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Rt(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Qn&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};function Er(e,t){Y(t,!1);let n=pn(t,"client",24,()=>new Bt);Ft(()=>{n().mount()}),Kn(n()),dn(()=>{n().unmount()}),Hn();var s=re(),a=X(s);Ln(a,t,"default",{}),A(e,s),J()}var Mr=Ee('<div class="layout svelte-7sy0rh"><header class="header svelte-7sy0rh"><!></header> <main class="main svelte-7sy0rh"><!></main></div> <!>',1);function Rr(e,t){Y(t,!0);const n=new Bt;Er(e,{get client(){return n},children:(s,a)=>{var u=Mr(),o=X(u),d=F(o),T=F(d);yr(T,{}),Q(d);var S=Z(d,2),x=F(S);se(x,()=>t.children),Q(S),Q(o);var H=Z(o,2);gn(H,{}),A(s,u)},$$slots:{default:!0}}),J()}export{Rr as component};
