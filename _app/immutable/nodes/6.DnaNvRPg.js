const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/Dxv4WUuF.js","../chunks/E4DteRQY.js","../chunks/oCosmefv.js","../chunks/F3QxBvzP.js","../assets/leaflet.CIGW-MKW.css"])))=>i.map(i=>d[i]);
import{_ as v}from"../chunks/D9Z9MdNV.js";import"../chunks/DsnmJJEf.js";import"../chunks/RnY9KeEG.js";import{o as R,b as T}from"../chunks/F3QxBvzP.js";import{ak as B,al as y,am as D,f as k,a as z,ap as V,q as t,D as c,a2 as f}from"../chunks/oCosmefv.js";import{a as A,b as O,c as S}from"../chunks/E4DteRQY.js";import{b as j}from"../chunks/MmEAGA9x.js";import{i as q}from"../chunks/D2Y4SetG.js";import{s as C,a as h}from"../chunks/DGl_FdAz.js";import{r as G,s as F,p as H}from"../chunks/DHlMi-j5.js";/* empty css                */import{P as J}from"../chunks/DM_5NpTO.js";var K=k("<div>map</div>");function it(L,$){B($,!1);const[u,b]=C(),_=()=>h(H,"$placeResources",u),n=()=>h(I,"$places",u);let o=c(),e=c(),m=c(),P=60,x=20,E=15;R(async()=>{f(o,(await v(async()=>{const{default:s}=await import("../chunks/Dxv4WUuF.js").then(i=>i.l);return{default:s}},__vite__mapDeps([0,1,2,3]),import.meta.url)).default),await v(()=>Promise.resolve({}),__vite__mapDeps([4]),import.meta.url),f(e,t(o).map(t(m)).setView([P,x],E)),t(o).tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(t(e))}),T(()=>{t(e)&&t(e).remove()});const I=A(J,G.type,F.Place);y(()=>_(),()=>{_()}),y(()=>(t(o),t(e),n()),()=>{if(t(o)&&t(e)&&n().size>0){let s=1/0,i=1/0,l=-1/0,d=-1/0;n().forEach(r=>{if(r.geo.type.some(a=>a["@id"]==="GeoCoordinates")){const a=r.geo;s=Math.min(s,a.latitude),l=Math.max(l,a.latitude),i=Math.min(i,a.longitude),d=Math.max(d,a.longitude);const w=`<div><strong>${r.name}</strong></div><div>${r.description}</div>`;t(o).marker([a.latitude,a.longitude]).addTo(t(e)).bindPopup(w)}});const g=new(t(o)).LatLngBounds([s,i],[l,d]),M=g.pad(.1);t(e).getBounds().contains(g)||t(e).fitBounds(M)}}),D(),q();var p=K();O(p,1,S(["leaflet-container","map"]),"svelte-4yt5fd"),j(p,s=>f(m,s),()=>t(m)),z(L,p),V(),b()}export{it as component};
