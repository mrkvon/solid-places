const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/Dc8XZu2H.js","../chunks/MZ-F8SYP.js","../chunks/CVXStvyL.js","../chunks/BXlc4ceW.js","../assets/leaflet.CIGW-MKW.css"])))=>i.map(i=>d[i]);
import{_}from"../chunks/D9Z9MdNV.js";import"../chunks/DsnmJJEf.js";import{o as T,b as q}from"../chunks/BXlc4ceW.js";import{ai as B,b as g,g as t,f as z,a as D,al as V,aq as v,$ as h}from"../chunks/CVXStvyL.js";import{a as k,s as A,c as O,b as R}from"../chunks/MZ-F8SYP.js";import{b as S}from"../chunks/DeiusSuN.js";import{a as y,s as j}from"../chunks/DCLxvnlw.js";import{q as C,r as G,s as F}from"../chunks/CcmY0cPZ.js";/* empty css                */import{P as H}from"../chunks/BzEzGBMK.js";var J=z("<div></div>");function at($,b){B(b,!0);const[f,L]=j(),r=()=>y(R,"$session",f),u=()=>y(P,"$places",f);g(()=>{r().info.webId&&C(r().info.webId,r().fetch).then(()=>{console.log("query run and finished")})});const P=k(H,G.type,F.Place);let s=v(void 0),e=v(void 0),m,I=60,w=20,x=15;T(async()=>{h(s,(await _(async()=>{const{default:o}=await import("../chunks/Dc8XZu2H.js").then(i=>i.l);return{default:o}},__vite__mapDeps([0,1,2,3]),import.meta.url)).default,!0),await _(()=>Promise.resolve({}),__vite__mapDeps([4]),import.meta.url),h(e,t(s).map(m).setView([I,w],x),!0),t(s).tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(t(e))}),q(()=>{t(e)&&t(e).remove()}),g(()=>{if(t(s)&&t(e)&&u().size>0){let o=1/0,i=1/0,d=-1/0,l=-1/0;for(const n of u())if(n.geo.type.some(a=>a["@id"]==="GeoCoordinates")){const a=n.geo;o=Math.min(o,a.latitude),d=Math.max(d,a.latitude),i=Math.min(i,a.longitude),l=Math.max(l,a.longitude);const E=`<div><strong>${n.name}</strong></div><div>${n.description}</div>`;t(s).marker([a.latitude,a.longitude]).addTo(t(e)).bindPopup(E)}const c=new(t(s)).LatLngBounds([o,i],[d,l]),M=c.pad(.1);t(e).getBounds().contains(c)||t(e).fitBounds(M)}});var p=J();A(p,1,O(["leaflet-container","map"]),"svelte-4yt5fd"),S(p,o=>m=o,()=>m),D($,p),V(),L()}export{at as component};
