import"../chunks/DsnmJJEf.js";import"../chunks/DXjwxeV4.js";import{ai as k,f as E,aj as R,ak as U,g as t,a as j,al as z,am as b,an as s,ao as n,K as G,ap as y,$ as J}from"../chunks/CVXStvyL.js";import{e as K,a as L,r as N}from"../chunks/BXlc4ceW.js";import{b as p,r as f}from"../chunks/GuTiBxeJ.js";import{i as O}from"../chunks/DYbgrc7r.js";import{s as T,a as B}from"../chunks/DCLxvnlw.js";import{g as F}from"../chunks/BpXlE7wu.js";import{u as H}from"../chunks/MZ-F8SYP.js";import{s as M,a as x}from"../chunks/CjPpOu1l.js";import{P as Q}from"../chunks/BzEzGBMK.js";var V=E('<form class="svelte-uz3xhk"><input type="text" placeholder="name" required/> <textarea placeholder="description" name="description"></textarea> <input type="number" step="any" id="latitude" name="latitude" placeholder="latitude" required/> <input type="number" step="any" name="longitude" placeholder="longitude" required/> <input type="submit" value="Add place"/></form> <pre> </pre>',1);function pe($,D){k(D,!1);const[w,q]=T(),g=()=>B(M,"$storages",w),h={name:"",description:"",latitude:null,longitude:null};let e=G(h);const{createData:A,commitData:C}=H(),I=async a=>{a.preventDefault();const c=await g()[0].createChildIfAbsent("places/");if(c.isError)throw c;const o=await c.resource.createChildIfAbsent(`place-${crypto.randomUUID()}.ttl`);if(o.isError)throw o;const r=A(Q,o.uri+"#place",o.resource);r.type=x({"@id":"Place"}),r.geo={type:x({"@id":"GeoCoordinates"}),latitude:t(e).latitude,longitude:t(e).longitude},r.name=t(e).name,t(e).description&&(r.description=t(e).description),await C(r),J(e,h),F("list")};O();var v=V(),i=R(v),l=b(i);f(l);var u=s(l,2);N(u);var m=s(u,2);f(m);var d=s(m,2);f(d);var P=s(d,2);y(i);var _=s(i,2),S=b(_,!0);y(_),U(a=>{P.disabled=g().length===0,L(S,a)},[()=>JSON.stringify(t(e),null,2)]),K("submit",i,I),p(l,()=>t(e).name,a=>n(e,t(e).name=a)),p(u,()=>t(e).description,a=>n(e,t(e).description=a)),p(m,()=>t(e).latitude,a=>n(e,t(e).latitude=a)),p(d,()=>t(e).longitude,a=>n(e,t(e).longitude=a)),j($,v),z(),q()}export{pe as component};
