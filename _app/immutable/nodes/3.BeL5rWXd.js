import"../chunks/DsnmJJEf.js";import"../chunks/CUseOi6C.js";import{ai as k,f as E,aj as R,ak as U,m as t,a as j,al as z,am as y,an as s,ao as n,y as G,ap as b,$ as J}from"../chunks/BprpeBWN.js";import{e as L,a as N,r as O}from"../chunks/oy6xE-rC.js";import{b as p,r as f}from"../chunks/D64X-vIT.js";import{i as T}from"../chunks/CyTbzA-V.js";import{s as B,a as F}from"../chunks/B4vPMAZi.js";import{g as H}from"../chunks/BQHe5eNw.js";import{u as K}from"../chunks/Coxj7Hfx.js";import{s as M,a as x}from"../chunks/3U5n5ZOP.js";import{P as Q}from"../chunks/DJjASS7M.js";var V=E('<form class="svelte-uz3xhk"><input type="text" placeholder="name" required/> <textarea placeholder="description" name="description"></textarea> <input type="number" step="any" id="latitude" name="latitude" placeholder="latitude" required/> <input type="number" step="any" name="longitude" placeholder="longitude" required/> <input type="submit" value="Add place"/></form> <pre> </pre>',1);function pe($,D){k(D,!1);const[w,q]=B(),g=()=>F(M,"$storages",w),h={name:"",description:"",latitude:null,longitude:null};let e=G(h);const{createData:A,commitData:C}=K(),I=async a=>{a.preventDefault();const c=await g()[0].createChildIfAbsent("places/");if(c.isError)throw c;const o=await c.resource.createChildIfAbsent(`place-${crypto.randomUUID()}.ttl`);if(o.isError)throw o;const r=A(Q,o.uri+"#place",o.resource);r.type=x({"@id":"Place"}),r.geo={type:x({"@id":"GeoCoordinates"}),latitude:t(e).latitude,longitude:t(e).longitude},r.name=t(e).name,t(e).description&&(r.description=t(e).description),await C(r),J(e,h),H("list")};T();var v=V(),i=R(v),l=y(i);f(l);var u=s(l,2);O(u);var m=s(u,2);f(m);var d=s(m,2);f(d);var P=s(d,2);b(i);var _=s(i,2),S=y(_,!0);b(_),U(a=>{P.disabled=g().length===0,N(S,a)},[()=>JSON.stringify(t(e),null,2)]),L("submit",i,I),p(l,()=>t(e).name,a=>n(e,t(e).name=a)),p(u,()=>t(e).description,a=>n(e,t(e).description=a)),p(m,()=>t(e).latitude,a=>n(e,t(e).latitude=a)),p(d,()=>t(e).longitude,a=>n(e,t(e).longitude=a)),j($,v),z(),q()}export{pe as component};
