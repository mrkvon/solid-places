import"../chunks/DsnmJJEf.js";import{l as nn,m as rn,aa as We,p as Y,ab as ae,a4 as X,z as me,a as $,b as J,R as sn,f as Me,a8 as Z,a6 as F,n as Ct,t as an,a7 as Q,F as on,a5 as Ft,h as Qt,ac as un,B as ln,a3 as cn}from"../chunks/ZmOcAfe1.js";import{w as H,d as Ge,c as ie,i as Kt,b as dn,f as fn,o as Rt,a as hn}from"../chunks/DXbKMHJn.js";import{h as gn,F as pn,b as mn}from"../chunks/DUS_f0YX.js";import{s as ve,r as ye,i as mt,p as vn}from"../chunks/DbDyctlH.js";import{w as L,F as yn,t as Ne,p as vt,G as yt,m as j,v as le,H as bt,B as wt,a as h,n as Ue,e as pe,b as P,I as Pt,k as ee,A as bn,r as $e,c as wn,S as dt,J as B,u as Pn,K as ce,s as xe,M as Ot,N as Se,C as Re,D as On,O as Tn,P as En,Q as Mn,q as Xe,R as ut,o as qt,T as lt,f as Ve,L as In}from"../chunks/CVgv9TCp.js";import{I as be,r as kn,B as _n,d as Dn,a as Ye,s as Ce,S as Nt,h as Bt,Q as Sn,n as z,m as Tt,R as xn,f as An,g as Et,i as de,j as $n,k as Cn,l as Fn,o as Qn,p as Mt,q as It,t as Kn,u as kt,v as _t,w as Rn,x as qn}from"../chunks/BPhQ1Ot-.js";import{b as Nn}from"../chunks/By5ZMi0T.js";import{a as qe,s as Ht}from"../chunks/FHFy0IG3.js";import{r as Fe}from"../chunks/Cl4vGSiG.js";import{h as Bn,i as Hn,b as Lt,n as Ln}from"../chunks/CFXNJ6MW.js";import"../chunks/B4oz0gRF.js";import{i as Wn}from"../chunks/g1iHHJON.js";function Gn(e,t,n,s,a){nn&&rn();var u=t.$$slots?.[n],o=!1;u===!0&&(u=t.children,o=!0),u===void 0||u(e,o?()=>s:s)}function Un(e,t){let n=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const u=t[s].x,o=t[s].y,d=t[a].x,T=t[a].y;o>e.y!=T>e.y&&e.x<(d-u)*(e.y-o)/(T-o)+u&&(n=!n)}return n}function jn(e,t){return t?Un({x:e.clientX,y:e.clientY},t):!1}const zn={ltr:[...dt,ee.ARROW_RIGHT]},Xn={ltr:[ee.ARROW_LEFT]},Dt=["menu","trigger"],Vn={arrowSize:8,positioning:{placement:"bottom"},preventScroll:!0,escapeBehavior:"close",closeOnOutsideClick:!0,portal:"body",loop:!1,dir:"ltr",defaultOpen:!1,typeahead:!0,closeOnItemClick:!0,onOutsideClick:void 0,preventTextSelectionOverflow:!0};function Yn(e){const{name:t,selector:n}=wn(e.selector),{preventScroll:s,arrowSize:a,positioning:u,escapeBehavior:o,closeOnOutsideClick:d,portal:T,forceVisible:S,typeahead:x,loop:N,closeFocus:oe,disableFocusFirstItem:te,closeOnItemClick:k,onOutsideClick:A,preventTextSelectionOverflow:W}=e.rootOptions,O=e.rootOpen,V=e.rootActiveTrigger,K=e.nextFocusable,se=e.prevFocusable,R=L.writable(!1),we=L(H(0)),fe=L(H(null)),Ie=L(H("right")),ke=L(H(null)),q=L(Ge([Ie,fe],([r,c])=>i=>r===c?.side&&jn(i,c?.area))),{typed:ne,handleTypeaheadSearch:ue}=yn(),re=Ne({...vt(Dt),...e.ids}),Pe=yt({open:O,forceVisible:S,activeTrigger:V}),he=j(t(),{stores:[Pe,O,V,T,re.menu,re.trigger],returned:([r,c,i,l,g,_])=>({role:"menu",hidden:r?void 0:!0,style:r?void 0:$e({display:"none"}),id:g,"aria-labelledby":_,"data-state":c&&i?"open":"closed","data-portal":bn(l),tabindex:-1}),action:r=>{let c=Ue;const i=le([Pe,V,u,d,T],([g,_,G,M,p])=>{c(),!(!g||!_)&&We().then(()=>{c(),Ke(r,n),c=bt(r,{anchorElement:_,open:O,options:{floating:G,modal:{closeOnInteractOutside:M,shouldCloseOnInteractOutside:y=>(A.get()?.(y),!(h(_)&&_.contains(y.target))),onClose:()=>O.set(!1)},portal:wt(r,p),escapeKeydown:{behaviorType:o},preventTextSelectionOverflow:{enabled:W}}}).destroy})}),l=pe(P(r,"keydown",g=>{const _=g.target,G=g.currentTarget;if(!h(_)||!h(G)||!(_.closest('[role="menu"]')===G))return;if(Pt.includes(g.key)&&xt(g,N.get()??!1),g.key===ee.TAB){g.preventDefault(),O.set(!1),St(g,K,se);return}const p=g.key.length===1;!(g.ctrlKey||g.altKey||g.metaKey)&&p&&x.get()===!0&&ue(g.key,Ee(G))}));return{destroy(){i(),l(),c()}}}}),Oe=j(t("trigger"),{stores:[O,re.menu,re.trigger],returned:([r,c,i])=>({"aria-controls":c,"aria-expanded":r,"data-state":r?"open":"closed",id:i,tabindex:0}),action:r=>(je(r),V.update(i=>i||r),{destroy:pe(P(r,"click",i=>{const l=O.get(),g=i.currentTarget;h(g)&&(ft(g),l||i.preventDefault())}),P(r,"keydown",i=>{const l=i.currentTarget;if(!h(l)||!(dt.includes(i.key)||i.key===ee.ARROW_DOWN))return;i.preventDefault(),ft(l);const g=l.getAttribute("aria-controls");if(!g)return;const _=document.getElementById(g);if(!_)return;const G=Ee(_);G.length&&B(G[0])}))})}),Ae=j(t("arrow"),{stores:a,returned:r=>({"data-arrow":!0,style:$e({position:"absolute",width:`var(--arrow-size, ${r}px)`,height:`var(--arrow-size, ${r}px)`})})}),Je=j(t("overlay"),{stores:[Pe],returned:([r])=>({hidden:r?void 0:!0,tabindex:-1,style:$e({display:r?void 0:"none"}),"aria-hidden":"true","data-state":Zn(r)}),action:r=>{const c=le([T],([i])=>{if(i===null)return Ue;const l=wt(r,i);return l===null?Ue:Pn(r,l).destroy});return{destroy(){c()}}}}),Be=j(t("item"),{returned:()=>({role:"menuitem",tabindex:-1,"data-orientation":"vertical"}),action:r=>(Ke(r,n),je(r),{destroy:pe(P(r,"pointerdown",i=>{const l=i.currentTarget;if(h(l)&&ce(l)){i.preventDefault();return}}),P(r,"click",i=>{const l=i.currentTarget;if(h(l)){if(ce(l)){i.preventDefault();return}if(i.defaultPrevented){B(l);return}k.get()&&xe(1).then(()=>{O.set(!1)})}}),P(r,"keydown",i=>{at(i)}),P(r,"pointermove",i=>{rt(i)}),P(r,"pointerleave",i=>{st(i)}),P(r,"focusin",i=>{He(i)}),P(r,"focusout",i=>{tt(i)}))})}),Te=j(t("group"),{returned:()=>r=>({role:"group","aria-labelledby":r})}),Ze=j(t("group-label"),{returned:()=>r=>({id:r})}),et={defaultChecked:!1,disabled:!1},Gt=r=>{const c={...et,...r},i=c.checked??H(c.defaultChecked??null),l=Xe(i,c.onCheckedChange),g=H(c.disabled),_=j(t("checkbox-item"),{stores:[l,g],returned:([p,y])=>({role:"menuitemcheckbox",tabindex:-1,"data-orientation":"vertical","aria-checked":it(p)?"mixed":p?"true":"false","data-disabled":ut(y),"data-state":Jt(p)}),action:p=>(Ke(p,n),je(p),{destroy:pe(P(p,"pointerdown",v=>{const b=v.currentTarget;if(h(b)&&ce(b)){v.preventDefault();return}}),P(p,"click",v=>{const b=v.currentTarget;if(h(b)){if(ce(b)){v.preventDefault();return}if(v.defaultPrevented){B(b);return}l.update(ge=>it(ge)?!0:!ge),k.get()&&We().then(()=>{O.set(!1)})}}),P(p,"keydown",v=>{at(v)}),P(p,"pointermove",v=>{const b=v.currentTarget;if(h(b)){if(ce(b)){nt(v);return}rt(v,b)}}),P(p,"pointerleave",v=>{st(v)}),P(p,"focusin",v=>{He(v)}),P(p,"focusout",v=>{tt(v)}))})}),G=Ge(l,p=>p===!0),M=Ge(l,p=>p==="indeterminate");return{elements:{checkboxItem:_},states:{checked:l},helpers:{isChecked:G,isIndeterminate:M},options:{disabled:g}}},Ut=(r={})=>{const c=r.value??H(r.defaultValue??null),i=Xe(c,r.onValueChange),l=j(t("radio-group"),{returned:()=>({role:"group"})}),g={disabled:!1},_=j(t("radio-item"),{stores:[i],returned:([M])=>p=>{const{value:y,disabled:v}={...g,...p},b=M===y;return{disabled:v,role:"menuitemradio","data-state":b?"checked":"unchecked","aria-checked":b,"data-disabled":ut(v),"data-value":y,"data-orientation":"vertical",tabindex:-1}},action:M=>(Ke(M,n),{destroy:pe(P(M,"pointerdown",y=>{const v=y.currentTarget;if(!h(v))return;const b=M.dataset.value;if(M.dataset.disabled||b===void 0){y.preventDefault();return}}),P(M,"click",y=>{const v=y.currentTarget;if(!h(v))return;const b=M.dataset.value;if(M.dataset.disabled||b===void 0){y.preventDefault();return}if(y.defaultPrevented){if(!h(v))return;B(v);return}i.set(b),k.get()&&We().then(()=>{O.set(!1)})}),P(M,"keydown",y=>{at(y)}),P(M,"pointermove",y=>{const v=y.currentTarget;if(!h(v))return;const b=M.dataset.value;if(M.dataset.disabled||b===void 0){nt(y);return}rt(y,v)}),P(M,"pointerleave",y=>{st(y)}),P(M,"focusin",y=>{He(y)}),P(M,"focusout",y=>{tt(y)}))})}),G=Ge(i,M=>p=>M===p);return{elements:{radioGroup:l,radioItem:_},states:{value:i},helpers:{isChecked:G}}},{elements:{root:jt}}=rr({orientation:"horizontal"}),zt={...Vn,disabled:!1,positioning:{placement:"right-start",gutter:8}},Xt=r=>{const c={...zt,...r},i=c.open??H(!1),l=Xe(i,c?.onOpenChange),g=Ne(qt(c,"ids")),{positioning:_,arrowSize:G,disabled:M}=g,p=L(H(null)),y=L(H(null)),v=L(H(0)),b=Ne({...vt(Dt),...c.ids});Ot(()=>{const w=document.getElementById(b.trigger.get());w&&p.set(w)});const ge=yt({open:l,forceVisible:S,activeTrigger:p}),Zt=j(t("submenu"),{stores:[ge,l,p,b.menu,b.trigger],returned:([w,C,U,m,f])=>({role:"menu",hidden:w?void 0:!0,style:w?void 0:$e({display:"none"}),id:m,"aria-labelledby":f,"data-state":C&&U?"open":"closed","data-id":m,tabindex:-1}),action:w=>{let C=Ue;const U=le([ge,_],([f,E])=>{if(C(),!f)return;const I=p.get();I&&We().then(()=>{C();const D=gt(I);C=bt(w,{anchorElement:I,open:l,options:{floating:E,portal:h(D)?D:void 0,modal:null,focusTrap:null,escapeKeydown:null,preventTextSelectionOverflow:null}}).destroy})}),m=pe(P(w,"keydown",f=>{if(f.key===ee.ESCAPE)return;const E=f.target,I=f.currentTarget;if(!h(E)||!h(I)||!(E.closest('[role="menu"]')===I))return;if(Pt.includes(f.key)){f.stopImmediatePropagation(),xt(f,N.get()??!1);return}const _e=Xn.ltr.includes(f.key),De=f.ctrlKey||f.altKey||f.metaKey,Le=f.key.length===1;if(_e){const pt=p.get();f.preventDefault(),l.update(()=>(pt&&B(pt),!1));return}if(f.key===ee.TAB){f.preventDefault(),O.set(!1),St(f,K,se);return}!De&&Le&&x.get()===!0&&ue(f.key,Ee(I))}),P(w,"pointermove",f=>{Yt(f)}),P(w,"focusout",f=>{const E=p.get();if(R.get()){const I=f.target,D=document.getElementById(b.menu.get());if(!h(D)||!h(I))return;!D.contains(I)&&I!==E&&l.set(!1)}else{const I=f.currentTarget,D=f.relatedTarget;if(!h(D)||!h(I))return;!I.contains(D)&&D!==E&&l.set(!1)}}));return{destroy(){U(),C(),m()}}}}),en=j(t("subtrigger"),{stores:[l,M,b.menu,b.trigger],returned:([w,C,U,m])=>({role:"menuitem",id:m,tabindex:-1,"aria-controls":U,"aria-expanded":w,"data-state":w?"open":"closed","data-disabled":ut(C),"aria-haspopop":"menu"}),action:w=>{Ke(w,n),je(w),p.update(m=>m||w);const C=()=>{ct(y),window.clearTimeout(v.get()),fe.set(null)},U=pe(P(w,"click",m=>{if(m.defaultPrevented)return;const f=m.currentTarget;!h(f)||ce(f)||(B(f),l.get()||l.update(E=>E||(p.set(f),!E)))}),P(w,"keydown",m=>{const f=ne.get(),E=m.currentTarget;if(!(!h(E)||ce(E)||f.length>0&&m.key===ee.SPACE)&&zn.ltr.includes(m.key)){if(!l.get()){E.click(),m.preventDefault();return}const D=E.getAttribute("aria-controls");if(!D)return;const _e=document.getElementById(D);if(!h(_e))return;const De=Ee(_e)[0];B(De)}}),P(w,"pointermove",m=>{if(!Qe(m)||(ht(m),m.defaultPrevented))return;const f=m.currentTarget;if(!h(f))return;Jn(b.menu.get())||B(f);const E=y.get();!l.get()&&!E&&!ce(f)&&y.set(window.setTimeout(()=>{l.update(()=>(p.set(f),!0)),ct(y)},100))}),P(w,"pointerleave",m=>{if(!Qe(m))return;ct(y);const f=document.getElementById(b.menu.get()),E=f?.getBoundingClientRect();if(E){const I=f?.dataset.side,D=I==="right",_e=D?-5:5,De=E[D?"left":"right"],Le=E[D?"right":"left"];fe.set({area:[{x:m.clientX+_e,y:m.clientY},{x:De,y:E.top},{x:Le,y:E.top},{x:Le,y:E.bottom},{x:De,y:E.bottom}],side:I}),window.clearTimeout(v.get()),v.set(window.setTimeout(()=>{fe.set(null)},300))}else{if(Vt(m),m.defaultPrevented)return;fe.set(null)}}),P(w,"focusout",m=>{const f=m.currentTarget;if(!h(f))return;Se(f);const E=m.relatedTarget;if(!h(E))return;const I=f.getAttribute("aria-controls");if(!I)return;const D=document.getElementById(I);D&&!D.contains(E)&&l.set(!1)}),P(w,"focusin",m=>{He(m)}));return{destroy(){C(),U()}}}}),tn=j(t("subarrow"),{stores:G,returned:w=>({"data-arrow":!0,style:$e({position:"absolute",width:`var(--arrow-size, ${w}px)`,height:`var(--arrow-size, ${w}px)`})})});return le([O],([w])=>{w||(p.set(null),l.set(!1))}),le([fe],([w])=>{!Re||w||window.clearTimeout(v.get())}),le([l],([w])=>{if(Re&&(w&&R.get()&&xe(1).then(()=>{const C=document.getElementById(b.menu.get());if(!C)return;const U=Ee(C);U.length&&B(U[0])}),!w)){const C=ke.get(),U=document.getElementById(b.trigger.get());if(C&&xe(1).then(()=>{const m=document.getElementById(b.menu.get());m&&m.contains(C)&&Se(C)}),!U||document.activeElement===U)return;Se(U)}}),{ids:b,elements:{subTrigger:en,subMenu:Zt,subArrow:tn},states:{subOpen:l},options:g}};Ot(()=>{const r=document.getElementById(re.trigger.get());h(r)&&O.get()&&V.set(r);const c=[],i=()=>R.set(!1),l=()=>{R.set(!0),c.push(pe(lt(document,"pointerdown",i,{capture:!0,once:!0}),lt(document,"pointermove",i,{capture:!0,once:!0})))};return c.push(lt(document,"keydown",l,{capture:!0})),()=>{c.forEach(g=>g())}}),le([O,ke],([r,c])=>{!r&&c&&Se(c)}),le([O],([r])=>{!Re||r||gn({prop:oe.get(),defaultEl:V.get()})},{skipFirstRun:!0}),le([O,s],([r,c])=>{if(!Re)return;const i=[];return r&&c&&i.push(On()),xe(1).then(()=>{const l=document.getElementById(re.menu.get());if(l&&r&&R.get()){if(te.get()){B(l);return}const g=Ee(l);if(!g.length)return;B(g[0])}}),()=>{i.forEach(l=>l())}});function ft(r){O.update(c=>{const i=!c;return i&&(K.set(Tn(r)),se.set(En(r)),V.set(r)),i})}function He(r){const c=r.currentTarget;if(!h(c))return;const i=ke.get();i&&Se(i),Mn(c),ke.set(c)}function tt(r){const c=r.currentTarget;h(c)&&Se(c)}function ht(r){ot(r)&&r.preventDefault()}function nt(r){if(ot(r))return;const c=r.target;if(!h(c))return;const i=gt(c);i&&B(i)}function Vt(r){ot(r)&&r.preventDefault()}function Yt(r){if(!Qe(r))return;const c=r.target,i=r.currentTarget;if(!h(i)||!h(c))return;const l=we.get(),g=l!==r.clientX;if(i.contains(c)&&g){const _=r.clientX>l?"right":"left";Ie.set(_),we.set(r.clientX)}}function rt(r,c=null){if(!Qe(r)||(ht(r),r.defaultPrevented))return;if(c){B(c);return}const i=r.currentTarget;h(i)&&B(i)}function st(r){Qe(r)&&nt(r)}function at(r){if(ne.get().length>0&&r.key===ee.SPACE){r.preventDefault();return}if(dt.includes(r.key)){r.preventDefault();const l=r.currentTarget;if(!h(l))return;l.click()}}function it(r){return r==="indeterminate"}function Jt(r){return it(r)?"indeterminate":r?"checked":"unchecked"}function ot(r){return q.get()(r)}function gt(r){const c=r.closest('[role="menu"]');return h(c)?c:null}return{elements:{trigger:Oe,menu:he,overlay:Je,item:Be,group:Te,groupLabel:Ze,arrow:Ae,separator:jt},builders:{createCheckboxItem:Gt,createSubmenu:Xt,createMenuRadioGroup:Ut},states:{open:O},helpers:{handleTypeaheadSearch:ue},ids:re,options:e.rootOptions}}function St(e,t,n){if(e.shiftKey){const s=n.get();s&&(e.preventDefault(),xe(1).then(()=>s.focus()),n.set(null))}else{const s=t.get();s&&(e.preventDefault(),xe(1).then(()=>s.focus()),t.set(null))}}function Ee(e){return Array.from(e.querySelectorAll(`[data-melt-menu-id="${e.id}"]`)).filter(t=>h(t))}function je(e){!e||!ce(e)||(e.setAttribute("data-disabled",""),e.setAttribute("aria-disabled","true"))}function ct(e){if(!Re)return;const t=e.get();t&&(window.clearTimeout(t),e.set(null))}function Qe(e){return e.pointerType==="mouse"}function Ke(e,t){if(!e)return;const n=e.closest(`${t()}, ${t("submenu")}`);h(n)&&e.setAttribute("data-melt-menu-id",n.id)}function xt(e,t){e.preventDefault();const n=document.activeElement,s=e.currentTarget;if(!h(n)||!h(s))return;const a=Ee(s);if(!a.length)return;const u=a.filter(T=>!(T.hasAttribute("data-disabled")||T.getAttribute("disabled")==="true")),o=u.indexOf(n);let d;switch(e.key){case ee.ARROW_DOWN:t?d=o<u.length-1?o+1:0:d=o<u.length-1?o+1:o;break;case ee.ARROW_UP:t?d=o>0?o-1:u.length-1:d=o<0?u.length-1:o>0?o-1:0;break;case ee.HOME:d=0;break;case ee.END:d=u.length-1;break;default:return}B(u[d])}function Jn(e){const t=document.activeElement;if(!h(t))return!1;const n=t.closest(`[data-id="${e}"]`);return h(n)}function Zn(e){return e?"open":"closed"}const er={arrowSize:8,positioning:{placement:"bottom"},preventScroll:!0,escapeBehavior:"close",closeOnOutsideClick:!0,portal:"body",loop:!1,dir:"ltr",defaultOpen:!1,forceVisible:!1,typeahead:!0,closeFocus:void 0,disableFocusFirstItem:!1,closeOnItemClick:!0,onOutsideClick:void 0,preventTextSelectionOverflow:!0};function tr(e){const t={...er,...e},n=Ne(qt(t,"ids")),s=t.open??H(t.defaultOpen),a=Xe(s,t?.onOpenChange),u=L(H(null)),o=L(H(null)),d=L(H(null)),{elements:T,builders:S,ids:x,states:N,options:oe}=Yn({rootOptions:n,rootOpen:a,rootActiveTrigger:L(u),nextFocusable:L(o),prevFocusable:L(d),selector:"dropdown-menu",ids:t.ids});return{ids:x,elements:T,states:N,builders:S,options:oe}}const nr={orientation:"horizontal",decorative:!1},rr=e=>{const t={...nr,...e},n=Ne(t),{orientation:s,decorative:a}=n;return{elements:{root:j("separator",{stores:[s,a],returned:([o,d])=>({role:d?"none":"separator","aria-orientation":o==="vertical"?o:void 0,"aria-hidden":d,"data-orientation":o})})},options:n}};function sr(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ye(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M18 20a6 6 0 0 0-12 0"}],["circle",{cx:"12",cy:"10",r:"4"}],["circle",{cx:"12",cy:"12",r:"10"}]];be(e,ve({name:"circle-user-round"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=ae(),d=X(o);ie(d,()=>t.children??me),$(a,o)},$$slots:{default:!0}})),J()}function ar(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ye(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}]];be(e,ve({name:"house"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=ae(),d=X(o);ie(d,()=>t.children??me),$(a,o)},$$slots:{default:!0}})),J()}function ir(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ye(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M3 12h.01"}],["path",{d:"M3 18h.01"}],["path",{d:"M3 6h.01"}],["path",{d:"M8 12h13"}],["path",{d:"M8 18h13"}],["path",{d:"M8 6h13"}]];be(e,ve({name:"list"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=ae(),d=X(o);ie(d,()=>t.children??me),$(a,o)},$$slots:{default:!0}})),J()}function or(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ye(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m10 17 5-5-5-5"}],["path",{d:"M15 12H3"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}]];be(e,ve({name:"log-in"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=ae(),d=X(o);ie(d,()=>t.children??me),$(a,o)},$$slots:{default:!0}})),J()}function ur(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ye(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];be(e,ve({name:"log-out"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=ae(),d=X(o);ie(d,()=>t.children??me),$(a,o)},$$slots:{default:!0}})),J()}function lr(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ye(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]];be(e,ve({name:"map"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=ae(),d=X(o);ie(d,()=>t.children??me),$(a,o)},$$slots:{default:!0}})),J()}function cr(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ye(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];be(e,ve({name:"plus"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=ae(),d=X(o);ie(d,()=>t.children??me),$(a,o)},$$slots:{default:!0}})),J()}function dr(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ye(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M12 3v12"}],["path",{d:"m17 8-5-5-5 5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}]];be(e,ve({name:"upload"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=ae(),d=X(o);ie(d,()=>t.children??me),$(a,o)},$$slots:{default:!0}})),J()}var fr=Me('<header class="svelte-13sunvs">Select Provider</header> <form class="svelte-13sunvs"><input type="url" required placeholder="Identity Provider"/> <!></form>',1);function hr(e,t){Y(t,!0);let n=sn({provider:""});function s(T){T.preventDefault(),t.onsave(n)}var a=fr(),u=Z(X(a),2),o=F(u);kn(o);var d=Z(o,2);_n(d,{as:"button",variant:"primary",type:"submit",children:(T,S)=>{Ct();var x=an("Sign In");$(T,x)},$$slots:{default:!0}}),Q(u),Kt("submit",u,s),Dn(o,()=>n.provider,T=>n.provider=T),$(e,a),J()}var gr=Me("<!> <div><div> </div> <div><!> Sign out</div></div>",1);function pr(e,t){Y(t,!0);const[n,s]=Ht(),a=()=>qe(Lt,"$session",n),u=()=>qe(oe,"$profile",n),o=()=>qe(T,"$menu",n),d=()=>qe(S,"$item",n),{elements:{menu:T,item:S,trigger:x}}=tr(),N=async()=>{await Ln(),globalThis.location.href="/"};Bn(a().info.webId);const oe=Hn(pn,a().info.webId),te=un(()=>u()?.name);var k=gr(),A=X(k);ie(A,()=>t.children,()=>({trigger:x}));var W=Z(A,2);Ye(W,()=>({...o(),class:"menu","aria-label":"User menu"}),void 0,void 0,"svelte-1q3aoyo");var O=F(W);Ye(O,()=>({...d()}),void 0,void 0,"svelte-1q3aoyo");var V=F(O,!0);Q(O),Ve(O,R=>S?.(R));var K=Z(O,2);Ye(K,()=>({...d()}),void 0,void 0,"svelte-1q3aoyo");var se=F(K);ur(se,{"aria-hidden":"true"}),Ct(),Q(K),Ve(K,R=>S?.(R)),on(()=>Kt("m-click",K,N)),Q(W),Ve(W,R=>T?.(R)),Ft(()=>dn(V,Qt(te))),$(e,k),J(),s()}var mr=Me('<button disabled class="loading svelte-1fgulgb"><!></button>'),vr=Me("<button><!></button>"),yr=Me('<button aria-label="Sign In" title="Sign In" class="svelte-1fgulgb"><!></button>'),br=Me('<nav class="header svelte-1fgulgb"><a aria-label="Home" title="Home" class="svelte-1fgulgb"><!></a> <a aria-label="Map" title="Map" class="svelte-1fgulgb"><!></a> <a aria-label="List" title="List" class="svelte-1fgulgb"><!></a> <div class="spacer svelte-1fgulgb"></div> <a aria-label="Add Place" title="Add Place" class="svelte-1fgulgb"><!></a> <a aria-label="Import from GPX" title="Import from GPX" class="svelte-1fgulgb"><!></a> <!></nav> <dialog class="svelte-1fgulgb"><!></dialog>',1);function wr(e,t){Y(t,!0);const[n,s]=Ht(),a=()=>qe(Lt,"$session",n),u=async q=>{await a().login({oidcIssuer:q,redirectUrl:globalThis.location.href})};let o=cn(!1);Rt(async()=>{try{await a().handleIncomingRedirect({restorePreviousSession:!0})}finally{ln(o,!0)}});let d;const T=()=>{d.showModal()};var S=br(),x=X(S),N=F(x),oe=F(N);ar(oe,{"aria-hidden":"true"}),Q(N);var te=Z(N,2),k=F(te);lr(k,{"aria-hidden":"true"}),Q(te);var A=Z(te,2),W=F(A);ir(W,{"aria-hidden":"true"}),Q(A);var O=Z(A,4),V=F(O);cr(V,{"aria-hidden":"true"}),Q(O);var K=Z(O,2),se=F(K);dr(se,{"aria-hidden":"true"}),Q(K);var R=Z(K,2);{var we=q=>{var ne=mr(),ue=F(ne);In(ue,{"aria-hidden":"true",class:"spinning"}),Q(ne),$(q,ne)},fe=q=>{var ne=ae(),ue=X(ne);{var re=he=>{pr(he,{children:(Ae,Je)=>{let Be=()=>Je?.().trigger;var Te=vr();Ye(Te,()=>({...Be(),"aria-label":"User Menu",title:"User Menu"}),void 0,void 0,"svelte-1fgulgb");var Ze=F(Te);sr(Ze,{"aria-hidden":"true"}),Q(Te),Ve(Te,et=>Be()?.(et)),$(Ae,Te)},$$slots:{default:!0}})},Pe=he=>{var Oe=yr();Oe.__click=T;var Ae=F(Oe);or(Ae,{"aria-hidden":"true"}),Q(Oe),$(he,Oe)};mt(ue,he=>{a().info.isLoggedIn?he(re):he(Pe,!1)},!0)}$(q,ne)};mt(R,q=>{Qt(o)?q(fe,!1):q(we)})}Q(x);var Ie=Z(x,2),ke=F(Ie);hr(ke,{onsave:q=>u(q.provider)}),Q(Ie),Nn(Ie,q=>d=q,()=>d),Ft((q,ne,ue,re,Pe)=>{Ce(N,"href",q),Ce(te,"href",ne),Ce(A,"href",ue),Ce(O,"href",re),Ce(K,"href",Pe)},[()=>Fe("/"),()=>Fe("/map"),()=>Fe("/list"),()=>Fe("/add"),()=>Fe("/import")]),$(e,S),J(),s()}fn(["click"]);var Pr=class extends Nt{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const s=t.queryKey,a=t.queryHash??Bt(s,t);let u=this.get(a);return u||(u=new Sn({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Tt(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Tt(e,n)):t}notify(e){z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){z.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){z.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Or=class extends xn{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Tr(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=An({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,u)=>{this.#r({type:"failed",failureCount:a,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",s=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#t.config.onMutate?.(e,this);const u=await this.options.onMutate?.(e);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:s})}const a=await this.#n.start();return await this.#t.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#r({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#r({type:"error",error:a})}}finally{this.#t.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),z.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Tr(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Er=class extends Nt{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const s=new Or({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){this.#e.add(e);const t=ze(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=ze(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ze(e);if(typeof t=="string"){const s=this.#t.get(t)?.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){const t=ze(e);return typeof t=="string"?this.#t.get(t)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){z.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Et(t,n))}findAll(e={}){return this.getAll().filter(t=>Et(e,t))}notify(e){z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return z.batch(()=>Promise.all(e.map(t=>t.continue().catch(de))))}};function ze(e){return e.options.scope?.id}function At(e){return{onFetch:(t,n)=>{const s=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},T=0;const S=async()=>{let x=!1;const N=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},oe=$n(t.options,t.fetchOptions),te=async(k,A,W)=>{if(x)return Promise.reject();if(A==null&&k.pages.length)return Promise.resolve(k);const V=(()=>{const we={client:t.client,queryKey:t.queryKey,pageParam:A,direction:W?"backward":"forward",meta:t.options.meta};return N(we),we})(),K=await oe(V),{maxPages:se}=t.options,R=W?Cn:Fn;return{pages:R(k.pages,K,se),pageParams:R(k.pageParams,A,se)}};if(a&&u.length){const k=a==="backward",A=k?Mr:$t,W={pages:u,pageParams:o},O=A(s,W);d=await te(W,O,k)}else{const k=e??u.length;do{const A=T===0?o[0]??s.initialPageParam:$t(s,d);if(T>0&&A==null)break;d=await te(d,A),T++}while(T<k)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(S,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=S}}}function $t(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Mr(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Wt=class{#e;#t;#n;#r;#a;#s;#i;#o;constructor(e={}){this.#e=e.queryCache||new Pr,this.#t=e.mutationCache||new Er,this.#n=e.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=Qn.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Mt.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(It(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(s.queryHash)?.state.data,o=Kn(t,u);if(o!==void 0)return this.#e.build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return z.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;z.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return z.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=z.batch(()=>this.#e.findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(de).catch(de)}invalidateQueries(e,t={}){return z.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=z.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let u=a.fetch(void 0,n);return n.throwOnError||(u=u.catch(de)),a.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(de)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(It(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(de).catch(de)}fetchInfiniteQuery(e){return e.behavior=At(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(de).catch(de)}ensureInfiniteQueryData(e){return e.behavior=At(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mt.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(kt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(s=>{_t(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){this.#a.set(kt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#a.values()],n={};return t.forEach(s=>{_t(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bt(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Rn&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};function Ir(e,t){Y(t,!1);let n=vn(t,"client",24,()=>new Wt);Rt(()=>{n().mount()}),qn(n()),hn(()=>{n().unmount()}),Wn();var s=ae(),a=X(s);Gn(a,t,"default",{}),$(e,s),J()}var kr=Me('<div class="layout svelte-7sy0rh"><header class="header svelte-7sy0rh"><!></header> <main class="main svelte-7sy0rh"><!></main></div> <!>',1);function Br(e,t){Y(t,!0);const n=new Wt;Ir(e,{get client(){return n},children:(s,a)=>{var u=kr(),o=X(u),d=F(o),T=F(d);wr(T,{}),Q(d);var S=Z(d,2),x=F(S);ie(x,()=>t.children),Q(S),Q(o);var N=Z(o,2);mn(N,{}),$(s,u)},$$slots:{default:!0}}),J()}export{Br as component};
