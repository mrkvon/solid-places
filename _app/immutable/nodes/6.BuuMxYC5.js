const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/C1hT5mNq.js","../chunks/Ck_VzoUI.js","../chunks/lTDvGL6K.js","../chunks/HgQVWXPy.js","../assets/leaflet.CIGW-MKW.css"])))=>i.map(i=>d[i]);
import{_}from"../chunks/D9Z9MdNV.js";import"../chunks/DsnmJJEf.js";import{o as T,b as B}from"../chunks/HgQVWXPy.js";import{F as q,b as g,g as t,f as z,a as D,I as V,a8 as v,y as h}from"../chunks/lTDvGL6K.js";import{a as k,s as A,c as O,b as R}from"../chunks/Ck_VzoUI.js";import{b as S}from"../chunks/CEq77hh8.js";import{a as y,s as j}from"../chunks/DAH22-2q.js";import{q as C,r as F,s as G}from"../chunks/B4u9Tg37.js";/* empty css                */import{P as H}from"../chunks/BzEzGBMK.js";var J=z("<div></div>");function ot(b,L){q(L,!0);const[f,$]=j(),r=()=>y(R,"$session",f),u=()=>y(I,"$places",f);g(()=>{r().info.webId&&C(r().info.webId,r().fetch).then(()=>{console.log("query run and finished")})});const I=k(H,F.type,G.Place);let s=v(void 0),e=v(void 0),m,P=60,w=20,x=15;T(async()=>{h(s,(await _(async()=>{const{default:a}=await import("../chunks/C1hT5mNq.js").then(i=>i.l);return{default:a}},__vite__mapDeps([0,1,2,3]),import.meta.url)).default,!0),await _(()=>Promise.resolve({}),__vite__mapDeps([4]),import.meta.url),h(e,t(s).map(m).setView([P,w],x),!0),t(s).tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(t(e))}),B(()=>{t(e)&&t(e).remove()}),g(()=>{if(t(s)&&t(e)&&u().size>0){let a=1/0,i=1/0,d=-1/0,l=-1/0;for(const n of u())if(n.geo.type.some(o=>o["@id"]==="GeoCoordinates")){const o=n.geo;a=Math.min(a,o.latitude),d=Math.max(d,o.latitude),i=Math.min(i,o.longitude),l=Math.max(l,o.longitude);const E=`<div><strong>${n.name}</strong></div><div>${n.description}</div>`;t(s).marker([o.latitude,o.longitude]).addTo(t(e)).bindPopup(E)}const c=new(t(s)).LatLngBounds([a,i],[d,l]),M=c.pad(.1);t(e).getBounds().contains(c)||t(e).fitBounds(M)}});var p=J();A(p,1,O(["leaflet-container","map"]),"svelte-4yt5fd"),S(p,a=>m=a,()=>m),D(b,p),V(),$()}export{ot as component};
