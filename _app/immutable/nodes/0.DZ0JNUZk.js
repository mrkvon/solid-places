import"../chunks/DsnmJJEf.js";import{k as Zt,l as en,aa as Be,F as Y,ab as re,G as z,w as pe,a as F,I as J,Y as tn,f as Te,K as ee,J as C,n as At,L as $,B as nn,H as rn,g as Ct,ac as sn,y as an,a8 as on}from"../chunks/lTDvGL6K.js";import{w as N,x as je,v as se,e as $t,a as un,j as ln,o as Ft,b as cn}from"../chunks/HgQVWXPy.js";import{w as H,j as dn,t as Re,h as gt,k as pt,m as U,E as ue,p as ge,c as P,i as h,F as mt,q as Z,V as fn,J as Ce,f as hn,a3 as lt,a4 as q,x as le,a5 as Se,a6 as vt,a7 as gn,a8 as pn,N as De,M as mn,G as yt,H as bt,I as Le,W as vn,o as Ue,C as it,d as Qt,e as Qe,Q as ot,X as yn,O as bn,Y as wn,Z as Xe,a0 as Pn,a9 as On}from"../chunks/Cz_jGxej.js";import{s as me,r as ve,i as wt,p as En}from"../chunks/CpJVbNz-.js";import{r as Tn,b as Mn,a as ze}from"../chunks/YqoNChnQ.js";import{b as In}from"../chunks/CEq77hh8.js";import{a as Ke,s as Kt}from"../chunks/DAH22-2q.js";import{h as kn,i as _n,b as Rt,n as Dn}from"../chunks/Ck_VzoUI.js";import{I as ye,S as qt,h as Nt,Q as Sn,n as X,m as Pt,R as xn,c as An,a as Ot,b as ce,d as Cn,f as $n,g as Fn,j as Qn,o as Et,r as Tt,k as Kn,l as Mt,p as It,s as Rn,q as qn}from"../chunks/oRzLS26u.js";import"../chunks/BroVl_p8.js";import{i as Nn}from"../chunks/0xnBKWLP.js";function Hn(e,t,n,s,a){Zt&&en();var u=t.$$slots?.[n],o=!1;u===!0&&(u=t.children,o=!0),u===void 0||u(e,o?()=>s:s)}function Bn(e,t){let n=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const u=t[s].x,o=t[s].y,d=t[a].x,M=t[a].y;o>e.y!=M>e.y&&e.x<(d-u)*(e.y-o)/(M-o)+u&&(n=!n)}return n}function jn(e,t){return t?Bn({x:e.clientX,y:e.clientY},t):!1}const Ln={ltr:[...lt,Z.ARROW_RIGHT]},Wn={ltr:[Z.ARROW_LEFT]},kt=["menu","trigger"],Gn={arrowSize:8,positioning:{placement:"bottom"},preventScroll:!0,escapeBehavior:"close",closeOnOutsideClick:!0,portal:"body",loop:!1,dir:"ltr",defaultOpen:!1,typeahead:!0,closeOnItemClick:!0,onOutsideClick:void 0,preventTextSelectionOverflow:!0};function Un(e){const{name:t,selector:n}=hn(e.selector),{preventScroll:s,arrowSize:a,positioning:u,escapeBehavior:o,closeOnOutsideClick:d,portal:M,forceVisible:S,typeahead:Q,loop:B,closeFocus:ae,disableFocusFirstItem:te,closeOnItemClick:k,onOutsideClick:x,preventTextSelectionOverflow:j}=e.rootOptions,O=e.rootOpen,V=e.rootActiveTrigger,R=e.nextFocusable,ne=e.prevFocusable,K=H.writable(!1),be=H(N(0)),de=H(N(null)),Me=H(N("right")),Ie=H(N(null)),L=H(je([Me,de],([r,c])=>i=>r===c?.side&&jn(i,c?.area))),{typed:ie,handleTypeaheadSearch:we}=dn(),oe=Re({...gt(kt),...e.ids}),xe=pt({open:O,forceVisible:S,activeTrigger:V}),fe=U(t(),{stores:[xe,O,V,M,oe.menu,oe.trigger],returned:([r,c,i,l,g,_])=>({role:"menu",hidden:r?void 0:!0,style:r?void 0:Ce({display:"none"}),id:g,"aria-labelledby":_,"data-state":c&&i?"open":"closed","data-portal":fn(l),tabindex:-1}),action:r=>{let c=Le;const i=ue([xe,V,u,d,M],([g,_,W,T,p])=>{c(),!(!g||!_)&&Be().then(()=>{c(),Fe(r,n),c=yt(r,{anchorElement:_,open:O,options:{floating:W,modal:{closeOnInteractOutside:T,shouldCloseOnInteractOutside:y=>(x.get()?.(y),!(h(_)&&_.contains(y.target))),onClose:()=>O.set(!1)},portal:bt(r,p),escapeKeydown:{behaviorType:o},preventTextSelectionOverflow:{enabled:j}}}).destroy})}),l=ge(P(r,"keydown",g=>{const _=g.target,W=g.currentTarget;if(!h(_)||!h(W)||!(_.closest('[role="menu"]')===W))return;if(mt.includes(g.key)&&Dt(g,B.get()??!1),g.key===Z.TAB){g.preventDefault(),O.set(!1),_t(g,R,ne);return}const p=g.key.length===1;!(g.ctrlKey||g.altKey||g.metaKey)&&p&&Q.get()===!0&&we(g.key,Ee(W))}));return{destroy(){i(),l(),c()}}}}),Pe=U(t("trigger"),{stores:[O,oe.menu,oe.trigger],returned:([r,c,i])=>({"aria-controls":c,"aria-expanded":r,"data-state":r?"open":"closed",id:i,tabindex:0}),action:r=>(We(r),V.update(i=>i||r),{destroy:ge(P(r,"click",i=>{const l=O.get(),g=i.currentTarget;h(g)&&(ct(g),l||i.preventDefault())}),P(r,"keydown",i=>{const l=i.currentTarget;if(!h(l)||!(lt.includes(i.key)||i.key===Z.ARROW_DOWN))return;i.preventDefault(),ct(l);const g=l.getAttribute("aria-controls");if(!g)return;const _=document.getElementById(g);if(!_)return;const W=Ee(_);W.length&&q(W[0])}))})}),Ae=U(t("arrow"),{stores:a,returned:r=>({"data-arrow":!0,style:Ce({position:"absolute",width:`var(--arrow-size, ${r}px)`,height:`var(--arrow-size, ${r}px)`})})}),Ve=U(t("overlay"),{stores:[xe],returned:([r])=>({hidden:r?void 0:!0,tabindex:-1,style:Ce({display:r?void 0:"none"}),"aria-hidden":"true","data-state":zn(r)}),action:r=>{const c=ue([M],([i])=>{if(i===null)return Le;const l=bt(r,i);return l===null?Le:vn(r,l).destroy});return{destroy(){c()}}}}),qe=U(t("item"),{returned:()=>({role:"menuitem",tabindex:-1,"data-orientation":"vertical"}),action:r=>(Fe(r,n),We(r),{destroy:ge(P(r,"pointerdown",i=>{const l=i.currentTarget;if(h(l)&&le(l)){i.preventDefault();return}}),P(r,"click",i=>{const l=i.currentTarget;if(h(l)){if(le(l)){i.preventDefault();return}if(i.defaultPrevented){q(l);return}k.get()&&Se(1).then(()=>{O.set(!1)})}}),P(r,"keydown",i=>{rt(i)}),P(r,"pointermove",i=>{tt(i)}),P(r,"pointerleave",i=>{nt(i)}),P(r,"focusin",i=>{Ne(i)}),P(r,"focusout",i=>{Ze(i)}))})}),Oe=U(t("group"),{returned:()=>r=>({role:"group","aria-labelledby":r})}),Ye=U(t("group-label"),{returned:()=>r=>({id:r})}),Je={defaultChecked:!1,disabled:!1},Bt=r=>{const c={...Je,...r},i=c.checked??N(c.defaultChecked??null),l=Ue(i,c.onCheckedChange),g=N(c.disabled),_=U(t("checkbox-item"),{stores:[l,g],returned:([p,y])=>({role:"menuitemcheckbox",tabindex:-1,"data-orientation":"vertical","aria-checked":st(p)?"mixed":p?"true":"false","data-disabled":it(y),"data-state":zt(p)}),action:p=>(Fe(p,n),We(p),{destroy:ge(P(p,"pointerdown",v=>{const b=v.currentTarget;if(h(b)&&le(b)){v.preventDefault();return}}),P(p,"click",v=>{const b=v.currentTarget;if(h(b)){if(le(b)){v.preventDefault();return}if(v.defaultPrevented){q(b);return}l.update(he=>st(he)?!0:!he),k.get()&&Be().then(()=>{O.set(!1)})}}),P(p,"keydown",v=>{rt(v)}),P(p,"pointermove",v=>{const b=v.currentTarget;if(h(b)){if(le(b)){et(v);return}tt(v,b)}}),P(p,"pointerleave",v=>{nt(v)}),P(p,"focusin",v=>{Ne(v)}),P(p,"focusout",v=>{Ze(v)}))})}),W=je(l,p=>p===!0),T=je(l,p=>p==="indeterminate");return{elements:{checkboxItem:_},states:{checked:l},helpers:{isChecked:W,isIndeterminate:T},options:{disabled:g}}},jt=(r={})=>{const c=r.value??N(r.defaultValue??null),i=Ue(c,r.onValueChange),l=U(t("radio-group"),{returned:()=>({role:"group"})}),g={disabled:!1},_=U(t("radio-item"),{stores:[i],returned:([T])=>p=>{const{value:y,disabled:v}={...g,...p},b=T===y;return{disabled:v,role:"menuitemradio","data-state":b?"checked":"unchecked","aria-checked":b,"data-disabled":it(v),"data-value":y,"data-orientation":"vertical",tabindex:-1}},action:T=>(Fe(T,n),{destroy:ge(P(T,"pointerdown",y=>{const v=y.currentTarget;if(!h(v))return;const b=T.dataset.value;if(T.dataset.disabled||b===void 0){y.preventDefault();return}}),P(T,"click",y=>{const v=y.currentTarget;if(!h(v))return;const b=T.dataset.value;if(T.dataset.disabled||b===void 0){y.preventDefault();return}if(y.defaultPrevented){if(!h(v))return;q(v);return}i.set(b),k.get()&&Be().then(()=>{O.set(!1)})}),P(T,"keydown",y=>{rt(y)}),P(T,"pointermove",y=>{const v=y.currentTarget;if(!h(v))return;const b=T.dataset.value;if(T.dataset.disabled||b===void 0){et(y);return}tt(y,v)}),P(T,"pointerleave",y=>{nt(y)}),P(T,"focusin",y=>{Ne(y)}),P(T,"focusout",y=>{Ze(y)}))})}),W=je(i,T=>p=>T===p);return{elements:{radioGroup:l,radioItem:_},states:{value:i},helpers:{isChecked:W}}},{elements:{root:Lt}}=Zn({orientation:"horizontal"}),Wt={...Gn,disabled:!1,positioning:{placement:"right-start",gutter:8}},Gt=r=>{const c={...Wt,...r},i=c.open??N(!1),l=Ue(i,c?.onOpenChange),g=Re(Qt(c,"ids")),{positioning:_,arrowSize:W,disabled:T}=g,p=H(N(null)),y=H(N(null)),v=H(N(0)),b=Re({...gt(kt),...c.ids});vt(()=>{const w=document.getElementById(b.trigger.get());w&&p.set(w)});const he=pt({open:l,forceVisible:S,activeTrigger:p}),Vt=U(t("submenu"),{stores:[he,l,p,b.menu,b.trigger],returned:([w,A,G,m,f])=>({role:"menu",hidden:w?void 0:!0,style:w?void 0:Ce({display:"none"}),id:m,"aria-labelledby":f,"data-state":A&&G?"open":"closed","data-id":m,tabindex:-1}),action:w=>{let A=Le;const G=ue([he,_],([f,E])=>{if(A(),!f)return;const I=p.get();I&&Be().then(()=>{A();const D=ft(I);A=yt(w,{anchorElement:I,open:l,options:{floating:E,portal:h(D)?D:void 0,modal:null,focusTrap:null,escapeKeydown:null,preventTextSelectionOverflow:null}}).destroy})}),m=ge(P(w,"keydown",f=>{if(f.key===Z.ESCAPE)return;const E=f.target,I=f.currentTarget;if(!h(E)||!h(I)||!(E.closest('[role="menu"]')===I))return;if(mt.includes(f.key)){f.stopImmediatePropagation(),Dt(f,B.get()??!1);return}const ke=Wn.ltr.includes(f.key),_e=f.ctrlKey||f.altKey||f.metaKey,He=f.key.length===1;if(ke){const ht=p.get();f.preventDefault(),l.update(()=>(ht&&q(ht),!1));return}if(f.key===Z.TAB){f.preventDefault(),O.set(!1),_t(f,R,ne);return}!_e&&He&&Q.get()===!0&&we(f.key,Ee(I))}),P(w,"pointermove",f=>{Xt(f)}),P(w,"focusout",f=>{const E=p.get();if(K.get()){const I=f.target,D=document.getElementById(b.menu.get());if(!h(D)||!h(I))return;!D.contains(I)&&I!==E&&l.set(!1)}else{const I=f.currentTarget,D=f.relatedTarget;if(!h(D)||!h(I))return;!I.contains(D)&&D!==E&&l.set(!1)}}));return{destroy(){G(),A(),m()}}}}),Yt=U(t("subtrigger"),{stores:[l,T,b.menu,b.trigger],returned:([w,A,G,m])=>({role:"menuitem",id:m,tabindex:-1,"aria-controls":G,"aria-expanded":w,"data-state":w?"open":"closed","data-disabled":it(A),"aria-haspopop":"menu"}),action:w=>{Fe(w,n),We(w),p.update(m=>m||w);const A=()=>{ut(y),window.clearTimeout(v.get()),de.set(null)},G=ge(P(w,"click",m=>{if(m.defaultPrevented)return;const f=m.currentTarget;!h(f)||le(f)||(q(f),l.get()||l.update(E=>E||(p.set(f),!E)))}),P(w,"keydown",m=>{const f=ie.get(),E=m.currentTarget;if(!(!h(E)||le(E)||f.length>0&&m.key===Z.SPACE)&&Ln.ltr.includes(m.key)){if(!l.get()){E.click(),m.preventDefault();return}const D=E.getAttribute("aria-controls");if(!D)return;const ke=document.getElementById(D);if(!h(ke))return;const _e=Ee(ke)[0];q(_e)}}),P(w,"pointermove",m=>{if(!$e(m)||(dt(m),m.defaultPrevented))return;const f=m.currentTarget;if(!h(f))return;Xn(b.menu.get())||q(f);const E=y.get();!l.get()&&!E&&!le(f)&&y.set(window.setTimeout(()=>{l.update(()=>(p.set(f),!0)),ut(y)},100))}),P(w,"pointerleave",m=>{if(!$e(m))return;ut(y);const f=document.getElementById(b.menu.get()),E=f?.getBoundingClientRect();if(E){const I=f?.dataset.side,D=I==="right",ke=D?-5:5,_e=E[D?"left":"right"],He=E[D?"right":"left"];de.set({area:[{x:m.clientX+ke,y:m.clientY},{x:_e,y:E.top},{x:He,y:E.top},{x:He,y:E.bottom},{x:_e,y:E.bottom}],side:I}),window.clearTimeout(v.get()),v.set(window.setTimeout(()=>{de.set(null)},300))}else{if(Ut(m),m.defaultPrevented)return;de.set(null)}}),P(w,"focusout",m=>{const f=m.currentTarget;if(!h(f))return;De(f);const E=m.relatedTarget;if(!h(E))return;const I=f.getAttribute("aria-controls");if(!I)return;const D=document.getElementById(I);D&&!D.contains(E)&&l.set(!1)}),P(w,"focusin",m=>{Ne(m)}));return{destroy(){A(),G()}}}}),Jt=U(t("subarrow"),{stores:W,returned:w=>({"data-arrow":!0,style:Ce({position:"absolute",width:`var(--arrow-size, ${w}px)`,height:`var(--arrow-size, ${w}px)`})})});return ue([O],([w])=>{w||(p.set(null),l.set(!1))}),ue([de],([w])=>{!Qe||w||window.clearTimeout(v.get())}),ue([l],([w])=>{if(Qe&&(w&&K.get()&&Se(1).then(()=>{const A=document.getElementById(b.menu.get());if(!A)return;const G=Ee(A);G.length&&q(G[0])}),!w)){const A=Ie.get(),G=document.getElementById(b.trigger.get());if(A&&Se(1).then(()=>{const m=document.getElementById(b.menu.get());m&&m.contains(A)&&De(A)}),!G||document.activeElement===G)return;De(G)}}),{ids:b,elements:{subTrigger:Yt,subMenu:Vt,subArrow:Jt},states:{subOpen:l},options:g}};vt(()=>{const r=document.getElementById(oe.trigger.get());h(r)&&O.get()&&V.set(r);const c=[],i=()=>K.set(!1),l=()=>{K.set(!0),c.push(ge(ot(document,"pointerdown",i,{capture:!0,once:!0}),ot(document,"pointermove",i,{capture:!0,once:!0})))};return c.push(ot(document,"keydown",l,{capture:!0})),()=>{c.forEach(g=>g())}}),ue([O,Ie],([r,c])=>{!r&&c&&De(c)}),ue([O],([r])=>{!Qe||r||yn({prop:ae.get(),defaultEl:V.get()})},{skipFirstRun:!0}),ue([O,s],([r,c])=>{if(!Qe)return;const i=[];return r&&c&&i.push(bn()),Se(1).then(()=>{const l=document.getElementById(oe.menu.get());if(l&&r&&K.get()){if(te.get()){q(l);return}const g=Ee(l);if(!g.length)return;q(g[0])}}),()=>{i.forEach(l=>l())}});function ct(r){O.update(c=>{const i=!c;return i&&(R.set(gn(r)),ne.set(pn(r)),V.set(r)),i})}function Ne(r){const c=r.currentTarget;if(!h(c))return;const i=Ie.get();i&&De(i),mn(c),Ie.set(c)}function Ze(r){const c=r.currentTarget;h(c)&&De(c)}function dt(r){at(r)&&r.preventDefault()}function et(r){if(at(r))return;const c=r.target;if(!h(c))return;const i=ft(c);i&&q(i)}function Ut(r){at(r)&&r.preventDefault()}function Xt(r){if(!$e(r))return;const c=r.target,i=r.currentTarget;if(!h(i)||!h(c))return;const l=be.get(),g=l!==r.clientX;if(i.contains(c)&&g){const _=r.clientX>l?"right":"left";Me.set(_),be.set(r.clientX)}}function tt(r,c=null){if(!$e(r)||(dt(r),r.defaultPrevented))return;if(c){q(c);return}const i=r.currentTarget;h(i)&&q(i)}function nt(r){$e(r)&&et(r)}function rt(r){if(ie.get().length>0&&r.key===Z.SPACE){r.preventDefault();return}if(lt.includes(r.key)){r.preventDefault();const l=r.currentTarget;if(!h(l))return;l.click()}}function st(r){return r==="indeterminate"}function zt(r){return st(r)?"indeterminate":r?"checked":"unchecked"}function at(r){return L.get()(r)}function ft(r){const c=r.closest('[role="menu"]');return h(c)?c:null}return{elements:{trigger:Pe,menu:fe,overlay:Ve,item:qe,group:Oe,groupLabel:Ye,arrow:Ae,separator:Lt},builders:{createCheckboxItem:Bt,createSubmenu:Gt,createMenuRadioGroup:jt},states:{open:O},helpers:{handleTypeaheadSearch:we},ids:oe,options:e.rootOptions}}function _t(e,t,n){if(e.shiftKey){const s=n.get();s&&(e.preventDefault(),Se(1).then(()=>s.focus()),n.set(null))}else{const s=t.get();s&&(e.preventDefault(),Se(1).then(()=>s.focus()),t.set(null))}}function Ee(e){return Array.from(e.querySelectorAll(`[data-melt-menu-id="${e.id}"]`)).filter(t=>h(t))}function We(e){!e||!le(e)||(e.setAttribute("data-disabled",""),e.setAttribute("aria-disabled","true"))}function ut(e){if(!Qe)return;const t=e.get();t&&(window.clearTimeout(t),e.set(null))}function $e(e){return e.pointerType==="mouse"}function Fe(e,t){if(!e)return;const n=e.closest(`${t()}, ${t("submenu")}`);h(n)&&e.setAttribute("data-melt-menu-id",n.id)}function Dt(e,t){e.preventDefault();const n=document.activeElement,s=e.currentTarget;if(!h(n)||!h(s))return;const a=Ee(s);if(!a.length)return;const u=a.filter(M=>!(M.hasAttribute("data-disabled")||M.getAttribute("disabled")==="true")),o=u.indexOf(n);let d;switch(e.key){case Z.ARROW_DOWN:t?d=o<u.length-1?o+1:0:d=o<u.length-1?o+1:o;break;case Z.ARROW_UP:t?d=o>0?o-1:u.length-1:d=o<0?u.length-1:o>0?o-1:0;break;case Z.HOME:d=0;break;case Z.END:d=u.length-1;break;default:return}q(u[d])}function Xn(e){const t=document.activeElement;if(!h(t))return!1;const n=t.closest(`[data-id="${e}"]`);return h(n)}function zn(e){return e?"open":"closed"}const Vn={arrowSize:8,positioning:{placement:"bottom"},preventScroll:!0,escapeBehavior:"close",closeOnOutsideClick:!0,portal:"body",loop:!1,dir:"ltr",defaultOpen:!1,forceVisible:!1,typeahead:!0,closeFocus:void 0,disableFocusFirstItem:!1,closeOnItemClick:!0,onOutsideClick:void 0,preventTextSelectionOverflow:!0};function Yn(e){const t={...Vn,...e},n=Re(Qt(t,"ids")),s=t.open??N(t.defaultOpen),a=Ue(s,t?.onOpenChange),u=H(N(null)),o=H(N(null)),d=H(N(null)),{elements:M,builders:S,ids:Q,states:B,options:ae}=Un({rootOptions:n,rootOpen:a,rootActiveTrigger:H(u),nextFocusable:H(o),prevFocusable:H(d),selector:"dropdown-menu",ids:t.ids});return{ids:Q,elements:M,states:B,builders:S,options:ae}}const Jn={orientation:"horizontal",decorative:!1},Zn=e=>{const t={...Jn,...e},n=Re(t),{orientation:s,decorative:a}=n;return{elements:{root:U("separator",{stores:[s,a],returned:([o,d])=>({role:d?"none":"separator","aria-orientation":o==="vertical"?o:void 0,"aria-hidden":d,"data-orientation":o})})},options:n}};function er(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M18 20a6 6 0 0 0-12 0"}],["circle",{cx:"12",cy:"10",r:"4"}],["circle",{cx:"12",cy:"12",r:"10"}]];ye(e,me({name:"circle-user-round"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=z(o);se(d,()=>t.children??pe),F(a,o)},$$slots:{default:!0}})),J()}function tr(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}]];ye(e,me({name:"house"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=z(o);se(d,()=>t.children??pe),F(a,o)},$$slots:{default:!0}})),J()}function nr(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M3 12h.01"}],["path",{d:"M3 18h.01"}],["path",{d:"M3 6h.01"}],["path",{d:"M8 12h13"}],["path",{d:"M8 18h13"}],["path",{d:"M8 6h13"}]];ye(e,me({name:"list"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=z(o);se(d,()=>t.children??pe),F(a,o)},$$slots:{default:!0}})),J()}function rr(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m10 17 5-5-5-5"}],["path",{d:"M15 12H3"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}]];ye(e,me({name:"log-in"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=z(o);se(d,()=>t.children??pe),F(a,o)},$$slots:{default:!0}})),J()}function sr(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];ye(e,me({name:"log-out"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=z(o);se(d,()=>t.children??pe),F(a,o)},$$slots:{default:!0}})),J()}function ar(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]];ye(e,me({name:"map"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=z(o);se(d,()=>t.children??pe),F(a,o)},$$slots:{default:!0}})),J()}function ir(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];ye(e,me({name:"plus"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=z(o);se(d,()=>t.children??pe),F(a,o)},$$slots:{default:!0}})),J()}function or(e,t){Y(t,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=ve(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M12 3v12"}],["path",{d:"m17 8-5-5-5 5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}]];ye(e,me({name:"upload"},()=>n,{get iconNode(){return s},children:(a,u)=>{var o=re(),d=z(o);se(d,()=>t.children??pe),F(a,o)},$$slots:{default:!0}})),J()}var ur=Te('<header class="svelte-13sunvs">Select Provider</header> <form class="svelte-13sunvs"><input type="url" required placeholder="Identity Provider"/> <button type="submit">Sign In</button></form>',1);function lr(e,t){Y(t,!0);let n=tn({provider:""});function s(d){d.preventDefault(),t.onsave(n)}var a=ur(),u=ee(z(a),2),o=C(u);Tn(o),At(2),$(u),$t("submit",u,s),Mn(o,()=>n.provider,d=>n.provider=d),F(e,a),J()}var cr=Te("<!> <div><div> </div> <div><!> Sign out</div></div>",1);function dr(e,t){Y(t,!0);const[n,s]=Kt(),a=()=>Ke(Rt,"$session",n),u=()=>Ke(ae,"$profile",n),o=()=>Ke(M,"$menu",n),d=()=>Ke(S,"$item",n),{elements:{menu:M,item:S,trigger:Q}}=Yn(),B=async()=>{await Dn(),globalThis.location.href="/"};kn(a().info.webId);const ae=_n(wn,a().info.webId),te=sn(()=>u()?.name);var k=cr(),x=z(k);se(x,()=>t.children,()=>({trigger:Q}));var j=ee(x,2);ze(j,()=>({...o(),class:"menu","aria-label":"User menu"}),void 0,void 0,"svelte-1q3aoyo");var O=C(j);ze(O,()=>({...d()}),void 0,void 0,"svelte-1q3aoyo");var V=C(O,!0);$(O),Xe(O,K=>S?.(K));var R=ee(O,2);ze(R,()=>({...d()}),void 0,void 0,"svelte-1q3aoyo");var ne=C(R);sr(ne,{"aria-hidden":"true"}),At(),$(R),Xe(R,K=>S?.(K)),nn(()=>$t("m-click",R,B)),$(j),Xe(j,K=>M?.(K)),rn(()=>un(V,Ct(te))),F(e,k),J(),s()}var fr=Te('<button disabled class="loading svelte-rnhdja"><!></button>'),hr=Te("<button><!></button>"),gr=Te('<button aria-label="Sign In" title="Sign In" class="svelte-rnhdja"><!></button>'),pr=Te('<nav class="header svelte-rnhdja"><a href="/" aria-label="Home" title="Home" class="svelte-rnhdja"><!></a> <a href="map" aria-label="Map" title="Map" class="svelte-rnhdja"><!></a> <a href="list" aria-label="List" title="List" class="svelte-rnhdja"><!></a> <div class="spacer svelte-rnhdja"></div> <a href="add" aria-label="Add Place" title="Add Place" class="svelte-rnhdja"><!></a> <a href="import" aria-label="Import from GPX" title="Import from GPX" class="svelte-rnhdja"><!></a> <!></nav> <dialog class="svelte-rnhdja"><!></dialog>',1);function mr(e,t){Y(t,!0);const[n,s]=Kt(),a=()=>Ke(Rt,"$session",n),u=async L=>{await a().login({oidcIssuer:L,redirectUrl:globalThis.location.href})};let o=on(!1);Ft(async()=>{try{await a().handleIncomingRedirect({restorePreviousSession:!0})}finally{an(o,!0)}});let d;const M=()=>{d.showModal()};var S=pr(),Q=z(S),B=C(Q),ae=C(B);tr(ae,{"aria-hidden":"true"}),$(B);var te=ee(B,2),k=C(te);ar(k,{"aria-hidden":"true"}),$(te);var x=ee(te,2),j=C(x);nr(j,{"aria-hidden":"true"}),$(x);var O=ee(x,4),V=C(O);ir(V,{"aria-hidden":"true"}),$(O);var R=ee(O,2),ne=C(R);or(ne,{"aria-hidden":"true"}),$(R);var K=ee(R,2);{var be=L=>{var ie=fr(),we=C(ie);Pn(we,{"aria-hidden":"true",class:"spinning"}),$(ie),F(L,ie)},de=L=>{var ie=re(),we=z(ie);{var oe=fe=>{dr(fe,{children:(Ae,Ve)=>{let qe=()=>Ve?.().trigger;var Oe=hr();ze(Oe,()=>({...qe(),"aria-label":"User Menu",title:"User Menu"}),void 0,void 0,"svelte-rnhdja");var Ye=C(Oe);er(Ye,{"aria-hidden":"true"}),$(Oe),Xe(Oe,Je=>qe()?.(Je)),F(Ae,Oe)},$$slots:{default:!0}})},xe=fe=>{var Pe=gr();Pe.__click=M;var Ae=C(Pe);rr(Ae,{"aria-hidden":"true"}),$(Pe),F(fe,Pe)};wt(we,fe=>{a().info.isLoggedIn?fe(oe):fe(xe,!1)},!0)}F(L,ie)};wt(K,L=>{Ct(o)?L(de,!1):L(be)})}$(Q);var Me=ee(Q,2),Ie=C(Me);lr(Ie,{onsave:L=>u(L.provider)}),$(Me),In(Me,L=>d=L,()=>d),F(e,S),J(),s()}ln(["click"]);var vr=class extends qt{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const s=t.queryKey,a=t.queryHash??Nt(s,t);let u=this.get(a);return u||(u=new Sn({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){X.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Pt(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Pt(e,n)):t}notify(e){X.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){X.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){X.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yr=class extends xn{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||br(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=An({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,u)=>{this.#r({type:"failed",failureCount:a,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",s=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#t.config.onMutate?.(e,this);const u=await this.options.onMutate?.(e);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:s})}const a=await this.#n.start();return await this.#t.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#r({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#r({type:"error",error:a})}}finally{this.#t.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),X.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function br(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wr=class extends qt{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const s=new yr({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){this.#e.add(e);const t=Ge(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Ge(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ge(e);if(typeof t=="string"){const s=this.#t.get(t)?.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){const t=Ge(e);return typeof t=="string"?this.#t.get(t)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){X.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Ot(t,n))}findAll(e={}){return this.getAll().filter(t=>Ot(e,t))}notify(e){X.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return X.batch(()=>Promise.all(e.map(t=>t.continue().catch(ce))))}};function Ge(e){return e.options.scope?.id}function St(e){return{onFetch:(t,n)=>{const s=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},M=0;const S=async()=>{let Q=!1;const B=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(t.signal.aborted?Q=!0:t.signal.addEventListener("abort",()=>{Q=!0}),t.signal)})},ae=Cn(t.options,t.fetchOptions),te=async(k,x,j)=>{if(Q)return Promise.reject();if(x==null&&k.pages.length)return Promise.resolve(k);const V=(()=>{const be={client:t.client,queryKey:t.queryKey,pageParam:x,direction:j?"backward":"forward",meta:t.options.meta};return B(be),be})(),R=await ae(V),{maxPages:ne}=t.options,K=j?$n:Fn;return{pages:K(k.pages,R,ne),pageParams:K(k.pageParams,x,ne)}};if(a&&u.length){const k=a==="backward",x=k?Pr:xt,j={pages:u,pageParams:o},O=x(s,j);d=await te(j,O,k)}else{const k=e??u.length;do{const x=M===0?o[0]??s.initialPageParam:xt(s,d);if(M>0&&x==null)break;d=await te(d,x),M++}while(M<k)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(S,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=S}}}function xt(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Pr(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Ht=class{#e;#t;#n;#r;#a;#s;#i;#o;constructor(e={}){this.#e=e.queryCache||new vr,this.#t=e.mutationCache||new wr,this.#n=e.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=Qn.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Et.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Tt(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(s.queryHash)?.state.data,o=Kn(t,u);if(o!==void 0)return this.#e.build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return X.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;X.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return X.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=X.batch(()=>this.#e.findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(ce).catch(ce)}invalidateQueries(e,t={}){return X.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=X.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let u=a.fetch(void 0,n);return n.throwOnError||(u=u.catch(ce)),a.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(ce)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Tt(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ce).catch(ce)}fetchInfiniteQuery(e){return e.behavior=St(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ce).catch(ce)}ensureInfiniteQueryData(e){return e.behavior=St(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Et.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Mt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(s=>{It(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){this.#a.set(Mt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#a.values()],n={};return t.forEach(s=>{It(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Nt(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Rn&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};function Or(e,t){Y(t,!1);let n=En(t,"client",24,()=>new Ht);Ft(()=>{n().mount()}),qn(n()),cn(()=>{n().unmount()}),Nn();var s=re(),a=z(s);Hn(a,t,"default",{}),F(e,s),J()}var Er=Te('<div class="layout svelte-7sy0rh"><header class="header svelte-7sy0rh"><!></header> <main class="main svelte-7sy0rh"><!></main></div> <!>',1);function Qr(e,t){Y(t,!0);const n=new Ht;Or(e,{get client(){return n},children:(s,a)=>{var u=Er(),o=z(u),d=C(o),M=C(d);mr(M,{}),$(d);var S=ee(d,2),Q=C(S);se(Q,()=>t.children),$(S),$(o);var B=ee(o,2);On(B,{}),F(s,u)},$$slots:{default:!0}}),J()}export{Qr as component};
