const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/BCQ1YMsu.js","../chunks/CFXNJ6MW.js","../chunks/ZmOcAfe1.js","../chunks/DXbKMHJn.js","../assets/leaflet.CIGW-MKW.css"])))=>i.map(i=>d[i]);
import{_}from"../chunks/D9Z9MdNV.js";import"../chunks/DsnmJJEf.js";import{o as E,a as T}from"../chunks/DXbKMHJn.js";import{p as q,d as g,h as t,f as z,a as D,b as V,a3 as h,B as v}from"../chunks/ZmOcAfe1.js";import{a as k,s as A,c as O,b as R}from"../chunks/CFXNJ6MW.js";import{b as S}from"../chunks/By5ZMi0T.js";import{a as y,s as j}from"../chunks/FHFy0IG3.js";import{q as C,r as G,s as F}from"../chunks/DqqTwD6Q.js";/* empty css                */import{P as H}from"../chunks/BzEzGBMK.js";var J=z("<div></div>");function ot(L,$){q($,!0);const[f,b]=j(),r=()=>y(R,"$session",f),u=()=>y(P,"$places",f);g(()=>{r().info.webId&&C(r().info.webId,r().fetch).then(()=>{console.log("query run and finished")})});const P=k(H,G.type,F.Place);let s=h(void 0),e=h(void 0),p,I=60,w=20,x=15;E(async()=>{v(s,(await _(async()=>{const{default:a}=await import("../chunks/BCQ1YMsu.js").then(i=>i.l);return{default:a}},__vite__mapDeps([0,1,2,3]),import.meta.url)).default,!0),await _(()=>Promise.resolve({}),__vite__mapDeps([4]),import.meta.url),v(e,t(s).map(p).setView([I,w],x),!0),t(s).tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(t(e))}),T(()=>{t(e)&&t(e).remove()}),g(()=>{if(t(s)&&t(e)&&u().size>0){let a=1/0,i=1/0,m=-1/0,l=-1/0;for(const n of u())if(n.geo.type.some(o=>o["@id"]==="GeoCoordinates")){const o=n.geo;a=Math.min(a,o.latitude),m=Math.max(m,o.latitude),i=Math.min(i,o.longitude),l=Math.max(l,o.longitude);const B=`<div><strong>${n.name}</strong></div><div>${n.description}</div>`;t(s).marker([o.latitude,o.longitude]).addTo(t(e)).bindPopup(B)}const c=new(t(s)).LatLngBounds([a,i],[m,l]),M=c.pad(.1);t(e).getBounds().contains(c)||t(e).fitBounds(M)}});var d=J();A(d,1,O(["leaflet-container","map"]),"svelte-4yt5fd"),S(d,a=>p=a,()=>p),D(L,d),V(),b()}export{ot as component};
