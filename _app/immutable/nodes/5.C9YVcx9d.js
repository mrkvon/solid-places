import"../chunks/DsnmJJEf.js";import"../chunks/RnY9KeEG.js";import{ak as $,aG as M,an as T,a1 as D,a as d,ap as g,al as B,am as C,f as N,at as c,aq as u,ar as V,q as R}from"../chunks/oCosmefv.js";import{q as w,d as F}from"../chunks/F3QxBvzP.js";import{e as J}from"../chunks/BD_BZXDn.js";import{i as K}from"../chunks/D2Y4SetG.js";import{s as O,a as P}from"../chunks/DGl_FdAz.js";import{P as Q}from"../chunks/C3pStImR.js";import{I as x,a as I,T as L}from"../chunks/CMgV_Yu9.js";import{a as U,d as S,e as W,s as X}from"../chunks/E4DteRQY.js";import{r as Y,s as Z,p as ee}from"../chunks/DHlMi-j5.js";import{P as te}from"../chunks/DM_5NpTO.js";import{s as E,r as q}from"../chunks/_Y4TaqLo.js";function ae(s,e){$(e,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=q(e,["$$slots","$$events","$$legacy"]);const l=[["circle",{cx:"12",cy:"16",r:"1"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3"}]];x(s,E({name:"lock-keyhole"},()=>t,{get iconNode(){return l},children:(o,m)=>{var a=M(),i=T(a);w(i,()=>e.children??D),d(o,a)},$$slots:{default:!0}})),g()}function se(s,e){$(e,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=q(e,["$$slots","$$events","$$legacy"]);const l=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];x(s,E({name:"pencil"},()=>t,{get iconNode(){return l},children:(o,m)=>{var a=M(),i=T(a);w(i,()=>e.children??D),d(o,a)},$$slots:{default:!0}})),g()}function re(s,e){$(e,!0);/**
 * @license @lucide/svelte v0.535.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=q(e,["$$slots","$$events","$$legacy"]);const l=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];x(s,E({name:"trash-2"},()=>t,{get iconNode(){return l},children:(o,m)=>{var a=M(),i=T(a);w(i,()=>e.children??D),d(o,a)},$$slots:{default:!0}})),g()}var oe=()=>{alert("privacy and sharing not implemented")},le=(s,e,t)=>e(R(t)),ie=(s,e,t)=>e(R(t)),ne=N('<div class="controls svelte-pkhc53"><button aria-label="Privacy and sharing: Private"><!></button> <button aria-label="Edit place"><!></button> <button aria-label="Delete place"><!></button></div>'),ce=N("<li><!></li>"),de=N('<ul data-testid="place-list"></ul>');function Te(s,e){$(e,!1);const[t,l]=O(),o=()=>P(ee,"$placeResources",t),m=()=>P(X,"$session",t),a=()=>P(i,"$data",t);let i=U(te,Y.type,Z.Place,null);const j=r=>{alert(`not implemented, editing ${r["@id"]}`)},z=async r=>{const{name:n}=r;if(globalThis.confirm(`Do you really want to delete place ${n} (${r["@id"]})?`)){const p=S.getResource(r["@id"]);if(p.isError)throw p;const _=await W(p,{fetch:m().fetch,dataset:S});_.isError?I({data:{type:L.error,title:"Deletion failed",description:_.name}}):I({data:{type:L.success,title:"Deletion successful",description:`Deleted place ${n}`}})}};B(()=>o(),()=>{o()}),C(),K();var y=de();J(y,5,a,r=>r["@id"],(r,n)=>{var h=ce(),p=u(h);Q(p,{get place(){return R(n)},children:(_,pe)=>{var b=ne(),f=u(b);f.__click=[oe];var G=u(f);ae(G,{"aria-disabled":"true"}),c(f);var v=V(f,2);v.__click=[le,j,n];var H=u(v);se(H,{"aria-disabled":"true"}),c(v);var k=V(v,2);k.__click=[ie,z,n];var A=u(k);re(A,{"aria-disabled":"true"}),c(k),c(b),d(_,b)},$$slots:{default:!0}}),c(h),d(r,h)}),c(y),d(s,y),g(),l()}F(["click"]);export{Te as component};
